<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
  <title>Pikifen manual</title>
  <meta name="description" content="The Pikifen user manual">
  
  <link rel="stylesheet" href="../data/style.css">
  <script src="../data/script.js"></script>
</head>

<body onload="setup('Resource object category', ['Making content', 'Object types'], ['making.html', 'mob_type.html']);">
  <div id="content">
    
    <b>Resources</b> are objects that Pikmin can carry somewhere, and once delivered, they cause something to happen. These resources are almost always provided by a <a href="mob_pile.html">pile</a>.

    <p>Examples of resource types include Burgeoning Spiderwort berries, which get delivered to the ship to make sprays with, bridge fragments, which get delivered to the corresponding bridge, nuggets, which get delivered to the ship for points, etc.</p>

    <p>To create a new type of resource, please follow the <a href="mob_type.html">making object types tutorial</a>.</p>

    <h2 id="overview">Overview</h2>

    <p>A resource type specifies where the resource must be delivered, what happens to the resource when it's delivered, and what happens when it's dropped by the Pikmin.</p>

    <p>Resource type objects are hardcoded in the engine to sit there, be picked up by the Pikmin, be dropped by the Pikmin, vanish if necessary, and be delivered somewhere. There is also logic to cause something specific to happen when they are delivered.</p>

    <h2 id="props">Properties</h2>

    <h3 id="props-common">Common</h3>

    <ul>
      <li>All of the <a href="mob_type.html#creating">common object type properties</a>.</li>
    </ul>

    <h3 id="props-mandatory">Mandatory</h3>

    <table class="props-t props-t-m">
      <tr>
        <td>carrying_destination</td>
        <td>Specifies where this resource must be taken to. <code>ship</code> means it gets carried to the nearest ship. <code>linked_mob</code> means it gets taken to whatever object is linked to the this object or the pile that originated this resource. <code>linked_mob_matching_type</code> means it goes to whichever of the object or the pile's linked objects matches the Pikmin type decided from the carrier Pikmin (i.e. which object has the <code>carry_destination_type</code> <a href="script.html">script variable</a> set to the Pikmin type's name).</td>
        <td>Text</td>
      </tr>
      <tr>
        <td>delivery_result</td>
        <td>Specifies what happens when the resource is successfully delivered. <code>damage_mob</code> causes some amount of damage to the delivery object, <code>increase_ingredients</code> causes an increase (by one) in the number of ingredients that make up a spray, <code>add_points</code> adds treasure points to the player's stash, and <code>stay</code> causes the Pikmin to stay with the object there.</td>
        <td>Text</td>
      </tr>
    </table>

    <h3 id="props-others">Others</h3>

    <table class="props-t props-t-o">
      <tr>
        <td>damage_mob_amount</td>
        <td>If the resource's delivery damages the delivery object, this specifies how much to hurt it by.</td>
        <td>Number</td>
        <td>1</td>
      </tr>
      <tr>
        <td>point_amount</td>
        <td>If the resource's delivery increases the player's score, this specifies how much to increase by.</td>
        <td>Number</td>
        <td>1</td>
      </tr>
      <tr>
        <td>return_to_pile_on_vanish</td>
        <td>If true, the resource returns to the pile from which it came, when it vanishes. If false, it's gone forever.</td>
        <td>Boolean</td>
        <td>false</td>
      </tr>
      <tr>
        <td>spray_to_concoct</td>
        <td>If the resource's delivery increases a spray's ingredient count, this specifies the name of the spray type.</td>
        <td>Text</td>
        <td></td>
      </tr>
      <tr>
        <td>vanish_delay</td>
        <td>When a resource is dropped, wait these many seconds before making it vanish. 0 means it vanishes instantly.</td>
        <td>Number</td>
        <td>0</td>
      </tr>
      <tr>
        <td>vanish_on_drop</td>
        <td>If true, the resource will vanish when the Pikmin drops it, after a delay. If false, the resource will lie there forever. Either way, it can be picked up again before it actually vanishes.</td>
        <td>Boolean</td>
        <td>false</td>
      </tr>
    </table>

    <h2 id="animations">Animations</h2>

    <p>A resource type needs to have the following animations:</p>

    <ul>
      <li><b><code>idling</code></b>: Idling; used for everything.</li>
    </ul>

    <h2 id="script">Script</h2>

    <p>Resource types have hardcoded <a href="script.html">scripts</a>, so the only thing you can do is enhance them.</p>

    <p>Some <a href="script.html#vars">script variables</a> control special behavior, like the resource's starting team. To know which ones exist, you can go to the area editor, select a resource, and read the tooltip of each variable.</p>

  </div>
</body>

</html>
