<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
  <title>Pikifen manual</title>
  <meta name="description" content="The Pikifen user manual">
  
  <link rel="stylesheet" href="../data/style.css">
  <script src="../data/script.js"></script>
</head>

<body onload="setup('Hazards', ['Making content'], ['making.html']);">
  <iframe id="header-frame" src="header.html"></iframe>
  
  <div id="content">
    
    <p>This page will guide you on how to make hazards for <i>Pikifen</i>. For clarity, know that a hazard is just an abstract danger, not a physical object. Poison, fire, water, electricity, are all hazards. Gas pipes and fire geysers are obstacles, bodies of water are a type of sector, and electrical attacks from enemies are a property given to an attack; all of these <i>use</i> a hazard, but are not hazards.</p>

    <h2 id="intro">Introduction</h2>
    
    <p>Pikmin can be vulnerable or invulnerable to a certain hazard. If they are invulnerable, they will be completely invulnerable to any attack hitboxes that use that property, and will act as if it doesn't exist. If not, it will suffer from some <b>status effect</b>. Being on fire, flailing on the surface of the water, or choking on poison are all status effects. Before you implement hazards, you should have some status effects, otherwise the hazards will be pointless if they can't cause problems. Please read the <a href="status.html">status effects guide</a> for information on how to declare status effects.</p>

    <p>The folder <code>Game_data/Hazards</code> contains one <a href="making.html#data-file">data file</a> for every hazard that exists, and that file contains its properties. Each file can have whatever name you want.</p>

    <h2 id="basics">Basics</h2>
    
    <p>To create a hazard, simply specify the following properties in its file:</p>

    <ul>
      <li><b><code>name</code></b>: Its internal name; the name you will refer it by in other files.</li>
      <li><b><code>color</code></b>: A color that represents the hazard, in the format <code>r g b</code> or <code>r g b a</code>. Defaults to black.</li>
      <li><b><code>status</code></b>: Status effects to apply to any Pikmin that is not invulnerable. This list is separated by semicolons (;).</li>
      <li><b><code>liquid</code></b>: If this hazard has an associated liquid (read the next section), specify its name here.</li>
    </ul>

    <h2 id="liquid">Water and other liquids</h2>
    
    <p>As stated at the start of the page, a hazard is an abstract danger. This means that a body of water is not a hazard, but the concept of "water" is. The thing is, hazards like water and other liquids (e.g. acid or lava) are meant to be used in sectors and have a liquid appearance, with an animated water surface. Simply stating that a water hazard applies the "drowning" effect to non-Blue Pikmin, and having a sector use the "water" hazard is not enough. How can the engine know what color the water is, how opaque it is, and what its surface animation is? For this, we'll need a different file.</p>

    <p>Open the <code>Game_data/Liquids</code> folder. This contains data about all liquids. Liquids will bridge the gap between a water body sector and the water hazard, for instance. Much like the files in <code>Game_data/Hazards</code>, this folder contains <a href="making.html#data-file">data file</a>, one for each liquid defined. Again, its file name can be whatever you want.</p>

    <p>Each liquid has the following properties:</p>

    <ul>
      <li><b><code>name</code></b>: Its internal name; the name you will refer it by in other files.</li>
      <li><b><code>color</code></b>: Color of the liquid, in the format <code>r g b</code> or <code>r g b a</code>. In-game, the terrain below the liquid's surface will be tinted with this color. Defaults to black.</li>
      <li><b><code>animation</code></b>: Name of the animation <a href="making.html#data-file">data file</a> in <code>Game_data/Animations</code>, with extension included (e.g. <code>Water.txt</code>). The water's surface will have this animated texture on it. <b>Note</b>: Since the sprites used for the animation are tiled over and over across the water's surface, you will not be able to have multiple frames of animation in the same image file. When <a href="animation.html">making its animation</a>, make sure to have each frame on its own file.</li>
      <li><b><code>surface_1_speed</code></b>: Liquids have the surface animation drawn twice, one layer on top of the other. The fact that they scroll at different speeds is what gives the full surface a dynamic look. This property sets the scrolling speed of the top layer, in pixels per second. Defaults to 10.</li>
      <li><b><code>surface_2_speed</code></b>: Like <code>surface_1_speed</code>, but for the bottom layer. Defaults to -13.</li>
      <li><b><code>surface_alpha</code></b>: Opacity (0 - 255) of the entire surface. Defaults to 255.</li>
    </ul>
    
  </div>
</body>

</html>
