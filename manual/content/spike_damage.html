<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
  <title>Pikifen manual</title>
  <meta name="description" content="The Pikifen user manual">
  
  <link rel="stylesheet" href="../data/style.css">
  <script src="../data/script.js"></script>
  <link rel="icon" href="../../game_data/base/graphics/gui/icon.png" />
</head>

<body onload="setup('Spike damage', ['Making content'], ['making.html']);">
  <div id="page-content">
    
    <p>"Spike damage" is a mechanic where objects that suffered damage can immediately retaliate by damaging their attacker. In the <i>Pikmin</i> games, this is used by a White Pikmin or an Ice Pikmin to inflict poison or chilliness to the enemy that ate it. In the engine, the same can be done, but any object can retaliate in any way, whether it is swallowed or damaged normally.</p>

    <p>The folders <code>game_data/&lt;<a href="making.html#packs">pack</a>&gt;/spike_damage_types</code> control the types of spike damage that exist in the game. Each <a href="making.html#data-file">data file</a> represents one type of spike damage, and the properties inside control how it works. Each one is also a piece of <a href="making.html#content">content</a>, so you should know how content works in the engine in general before starting.</p>

    <p>Once you finish setting up your spike damage types, remember to change the object type properties for the objects you want to deal this spike damage, as well as the different spike damage vulnerability modifiers, as explained <a href="mob_type.html">here</a>.</p>

    <p>The follow spike damage type properties exist:</p>

    <h3 id="props-common">Common</h3>

    <ul>
      <li>All of the <a href="making.html#content-props">common content properties</a>.</li>
    </ul>

    <h3 id="props-others">Others</h3>

    <table class="props-t props-t-o">
      <tr>
        <td>damage</td>
        <td>How much damage to cause. What exactly this number means depends on the <code>is_damage_ratio</code> property.</td>
        <td>Number</td>
        <td>0</td>
      </tr>
      <tr>
        <td>ingestion_only</td>
        <td><code>true</code> if the spike damage should only be caused when the object is ingested, <code>false</code> if it's meant to be caused when the object is hurt normally. Ingestion only works for Pikmin.</td>
        <td>Boolean</td>
        <td>false</td>
      </tr>
      <tr>
        <td>is_damage_ratio</td>
        <td>If <code>true</code>, then the number specified in <code>damage</code> is the ratio of total health to sap away. For instance, <code>0.5</code> means one half of the enemy's total health is removed. If <code>false</code>, the number is just a normal amount of damage.</td>
        <td>Boolean</td>
        <td>false</td>
      </tr>
      <tr>
        <td>particle_generator</td>
        <td>When the damage is applied, some particles can be spawned. This is the name of the particle generator to use, if any. The particles are spawned in the position of the object that receives the damage. To make lasting particles, you'll want the particle generator to be on the status effect instead.</td>
        <td>Internal name</td>
        <td></td>
      </tr>
      <tr>
        <td>particle_offset</td>
        <td>If particles are meant to spawn, you can offset them from the object's center here. The format is <code>x y z</code>, and these are <a href="glossary.html#relative-coordinates">relative coordinates</a>.</td>
        <td>Text</td>
        <td></td>
      </tr>
      <tr>
        <td>status_buildup_amount</td>
        <td>If there is a status to apply (<code>status_to_apply</code>), you can override the buildup amount with this. If 0, the buildup amount will be the same as a normal application of the status.</td>
        <td>Number</td>
        <td>0</td>
      </tr>
      <tr>
        <td>status_to_apply</td>
        <td>A status effect to apply when the spike damage is dealt. Leave empty for none.</td>
        <td>Text</td>
        <td></td>
      </tr>
    </table>

  </div>
</body>

</html>
