<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
  <title>Pikifen manual</title>
  <meta name="description" content="The Pikifen user manual">
  
  <link rel="stylesheet" href="../data/style.css">
  <script src="../data/script.js"></script>
  <link rel="icon" href="../../game_data/base/graphics/gui/icon.png" />
</head>

<body onload="setup('Onion object category', ['Making content', 'Object types'], ['making.html', 'mob_type.html']);">
  <div id="page-content">
    
    <b>Onions</b> are where Pikmin deliver corpses and pellets, they generate seeds, and they store Pikmin.

    <p>Examples of Onion types include the Red Onion, the Yellow Onion, and the Blue Onion.</p>

    <p>To create a new type of Onion, please follow the <a href="mob_type.html">making object types tutorial</a>.</p>

    <h2 id="overview">Overview</h2>

    <p>An Onion type object can organize the Pikmin of one Pikmin type. Onion objects serve as a destination for carried corpses and pellets, and will accept the corpse or pellet when it is delivered. Shortly afterwards, the Onion generates some Pikmin sprouts by shooting seeds in the air, or, if the limit of Pikmin has been reached, stores them inside the Onion.</p>
    
    <p>The player can place their leader under the Onion and press the throw button to open up the Onion's menu, which they can then use to store Pikmin inside, or call Pikmin out.</p>

    <p>Onion type objects are hardcoded in the engine to idle, receive delivered objects, convert them to Pikmin or sprouts, hold the number of Pikmin stowed, per maturity, know the concept of "legs", and feature a menu for the player to manage their Pikmin with.</p>

    <h2 id="props">Properties</h2>

    <h3 id="props-common">Common</h3>

    <ul>
      <li>All of the <a href="mob_type.html#creating">common object type properties</a>.</li>
    </ul>

    <h3 id="props-mandatory">Mandatory</h3>

    <table class="props-t props-t-m">
      <tr>
        <td>leg_body_parts</td>
        <td>Names of the <a href="animation.html">body parts</a> that make up the Onion's legs. Every pair starts with the hole on the Onion, and ends with the foot of the leg. Example with two legs: <code>first_hole; first_foot; second_hole; second_foot</code>.</td>
        <td>Text list</td>
      </tr>
      <tr>
        <td>pikmin_types</td>
        <td>Internal names of the types of Pikmin this Onion can manage.</td>
        <td>Text list</td>
      </tr>
    </table>

    <h3 id="props-others">Others</h3>

    <table class="props-t props-t-o">
      <tr>
        <td>pikmin_enter_speed</td>
        <td>When a Pikmin is ordered to enter the Onion, it will climb up a leg. This indicates the speed, in ratio per second. See the <a href="mob_track.html">track object category</a> for more information on what this means.</td>
        <td>Number</td>
        <td>0.7</td>
      </tr>
      <tr>
        <td>pikmin_exit_speed</td>
        <td>Same as <code>pikmin_enter_speed</code>, but for sliding out of an Onion leg.</td>
        <td>2</td>
      </tr>
    </table>

    <h2 id="animations">Animations</h2>

    <p>An Onion type needs to have the following animations:</p>
    
    <ul>
      <li><b><code>generating</code></b>: When its petals start spinning quickly and stay that way, since it is actively generating Pikmin.</li>
      <li><b><code>idling</code></b>: Idling.</li>
      <li><b><code>stopping_generation</code></b>: When its petals start slowing down, since it has stopped generating Pikmin.</li>
    </ul>

    <h2 id="sounds">Sounds</h2>
    
    <p>An Onion type needs to have the following <a href="mob_type.html#sounds">sounds</a>:</p>

    <ul>
      <li><b><code>beam</code></b>: Beam being activated when an object is delivered.</li>
      <li><b><code>pop</code></b>: Popping out a seed.</li>
      <li><b><code>pikmin_entry</code></b>: A Pikmin enters.</li>
      <li><b><code>pikmin_exit</code></b>: A Pikmin exits.</li>
      <li><b><code>reception</code></b>: Finished receiving an object.</li>
    </ul>

    <p>Note that some sound configurations may be overridden as the engine needs to do specific things with them.</p>

    <h2 id="script">Script</h2>

    <p>Onion types have hardcoded <a href="script.html">scripts</a>, so the only thing you can do is enhance them.</p>

    <p>Some <a href="script.html#vars">script variables</a> control special behavior, like the Onion's starting Pikmin count. To know which ones exist, you can go to the area editor, select an Onion, and read the tooltip of each variable.</p>

  </div>
</body>

</html>
