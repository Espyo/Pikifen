<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
  <title>Pikifen manual</title>
  <meta name="description" content="The Pikifen user manual">
  
  <link rel="stylesheet" href="../data/style.css">
  <script src="../data/script.js"></script>
  <link rel="icon" href="../../game_data/base/graphics/gui/icon.png" />
</head>

<body onload="setup('Pikmin object category', ['Making content', 'Object types'], ['making.html', 'mob_type.html']);">
  <div id="page-content">
    
    <p>The <b>Pikmin</b> are the creatures the player's leader commands. They can carry, fight, multiply, get eaten, etc.</p>

    <p>Examples of Pikmin include Red Pikmin, Yellow Pikmin, Purple Pikmin, etc.</p>

    <p>To create a new type of Pikmin, please follow the <a href="mob_type.html">making object types tutorial</a>.</p>

    <h2 id="overview">Overview</h2>
    
    <p>The Pikmin are programmed to do a lot of things in the engine, and the player can edit several of their properties to create Pikmin resistant to various things, and with different strengths and weaknesses.</p>

    <p>Pikmin type objects are hardcoded in the engine to be shot out as a seed from an Onion, be a sprout on the floor, get plucked by a leader, follow a leader in a formation, be thrown, get dismissed, idle, chase an opponent, sigh when giving up on something, carry something, return to a pile of carriable objects, attacking while on the floor or latched on, be grabbed by an enemy, get knocked down, become paralyzed, flail around, panic around, drink a drop, and carry a tool. Pretty much all of the Pikmin's behavior comes from what is in the engine's code, and is too complex to do via scripting, so Pikmin do not support user-made scripting.</p>

    <p>If you're creating a new Pikmin type, you may want to add it to the correct spot in the <a href="game_config.html">game configuration</a>'s Pikmin order.</p>

    <h2 id="props">Properties</h2>

    <h3 id="props-common">Common</h3>

    <ul>
      <li>All of the <a href="mob_type.html#creating">common object type properties</a>.</li>
    </ul>

    <p>Note that if you want your Pikmin to be resistant to a certain hazard, you'll want to use the <a href="mob_type.html#vulnerabilities">vulnerabilities</a> properties. Another thing to note when making Pikmin is that the movement speed property indicates the movement speed of a leaf Pikmin. Bud Pikmin move 110% faster, and flowers move 120% faster.</p>

    <h3 id="props-mandatory">Mandatory</h3>

    <table class="props-t props-t-m">
      <tr>
        <td>icon_leaf</td>
        <td>The Pikmin type's icon for when it is a leaf. This is displayed on the HUD, for the standby Pikmin bubble. The image should be in <code>game_data/&lt;<a href="making.html#packs">pack</a>&gt;/graphics</code>.</td>
        <td>Internal name</td>
      </tr>
      <tr>
        <td>icon_bud</td>
        <td>Same as <code>icon_leaf</code>, but for a bud.</td>
        <td>Internal name</td>
      </tr>
      <tr>
        <td>icon_flower</td>
        <td>Same as <code>icon_leaf</code>, but for a flower.</td>
        <td>Internal name</td>
      </tr>
      <tr>
        <td>top_leaf</td>
        <td>Image with the leaf sprite to use in-game. The image should be in <code>game_data/&lt;<a href="making.html#packs">pack</a>&gt;/graphics</code>.</td>
        <td>Internal name</td>
      </tr>
      <tr>
        <td>top_bud</td>
        <td>Same as <code>top_leaf</code>, but for a bud.</td>
        <td>Internal name</td>
      </tr>
      <tr>
        <td>top_bud</td>
        <td>Same as <code>top_leaf</code>, but for a flower.</td>
        <td>Internal name</td>
      </tr>
    </table>
    
    <h3 id="props-others">Others</h3>

    <table class="props-t props-t-o">
      <tr>
        <td>attack_method</td>
        <td>
          Determines how the Pikmin attacks other objects. Possible values are:
          <ul>
            <li><code>latch</code> to make the Pikmin latch on when thrown or when grounded next to the object.</li>
            <li><code>impact</code> to make the Pikmin cause impact damage, bounce back when thrown, lie down for a while after hitting, and also lunge on their own when grounded next to the object.</li>
          </ul>
        </td>
        <td>Text</td>
        <td>latch</td>
      </tr>
      <tr>
        <td>can_carry_tools</td>
        <td>Whether the Pikmin can carry <a href="mob_tool.html">tools</a>.</td>
        <td>Boolean</td>
        <td>true</td>
      </tr>
      <tr>
        <td>can_fly</td>
        <td><code>true</code> if the Pikmin can move vertically to get to its destination. It also makes the Pikmin idle some units above floor level, and be above a leader when chasing them.</td>
        <td>Boolean</td>
        <td>false</td>
      </tr>
      <tr>
        <td>enemy_hit_rate_modifier_latched</td>
        <td>Controls whether enemies that attack this Pikmin become more or less likely to hit it, when the Pikmin is latched on to them. This is useful for making Pikmin that are resistant to being shaken off (though note that this property applies to all sorts of attacks). 0 works like normal, -100 means the enemy is 100% less likely to hit (so it'll always miss), 100 means the enemy is 100% more likely to hit (so it'll always hit), -50% means the enemy is twice as likely to miss as before, etc. Each enemy attack has its own odds of hitting, and this property puts these odds on top of those ones. Enemy attacks that always hit or always miss will still do so, regardless of this property's value.</td>
        <td>Number</td>
        <td>0</td>
      </tr>
      <tr>
        <td>enemy_hit_rate_modifier_standing</td>
        <td>Like <code>enemy_hit_rate_modifier_latched</code>, but for when the Pikmin is not latched on to the enemy.</td>
        <td>Number</td>
        <td>0</td>
      </tr>
      <tr>
        <td>carry_strength</td>
        <td>The Pikmin is worth this much for carrying strength.</td>
        <td>Number</td>
        <td>1</td>
      </tr>
      <tr>
        <td>knocked_down_duration</td>
        <td>A Pikmin that is knocked down will still down for this amount of time, if left alone.</td>
        <td>Number</td>
        <td>1.8</td>
      </tr>
      <tr>
        <td>knocked_down_whistle_bonus</td>
        <td>If a Pikmin is lying down, whistling it will lower the time it has left before it can get up by this amount.</td>
        <td>Number</td>
        <td>1.2</td>
      </tr>
      <tr>
        <td>push_strength</td>
        <td>The Pikmin is worth this much for pushing strength. Used for certain <a href="mob_group_task.html">group tasks</a>.</td>
        <td>Number</td>
        <td>1</td>
      </tr>
      <tr>
        <td>max_throw_height</td>
        <td>When thrown, the Pikmin reaches this height at the apex of the throw. For reference, you can find the values used by the base content Pikmin types and leaders <a href="area.html#tips">here</a>.</td>
        <td>Number</td>
        <td>260</td>
      </tr>
      <tr>
        <td>sprout_evolution_time_1</td>
        <td>How long a leaf Pikmin sprout must wait before they turn into a bud. 0 means it will never evolve into the next stage.</td>
        <td>Number</td>
        <td>120</td>
      </tr>
      <tr>
        <td>sprout_evolution_time_2</td>
        <td>Same as the previous, but between a bud and a flower.</td>
        <td>Number</td>
        <td>120</td>
      </tr>
      <tr>
        <td>sprout_evolution_time_3</td>
        <td>Same as the previous, but between a flower and the process of withering back into a leaf.</td>
        <td>Number</td>
        <td>180</td>
      </tr>
    </table>

    <h2 id="animations">Animations</h2>
    
    <p>A Pikmin type needs to have the following animations:</p>

    <ul>
      <li><b><code>arms_out</code></b>: Standing still with arms stretched out sideways.</li>
      <li><b><code>attacking</code></b>: If its attack method is "latch", this is the Pikmin reeling back its head and smacking with it, causing damage; this is used regardless of the Pikmin being latched on or attacking while grounded. If its attack method is "impact", this is the Pikmin lunging forward and causing damage; it should be quick and snappy so the Pikmin can be bounced back shortly after.</li>
      <li><b><code>backflip</code></b>: Performing a single backflip to celebrate.</li>
      <li><b><code>called</code></b>: Jumping in surprise after being called by a leader.</li>
      <li><b><code>carrying</code></b>: Carrying an object.</li>
      <li><b><code>carrying_struggle</code></b>: Carrying an object, but struggling to lift it.</li>
      <li><b><code>climbing</code></b>: Climbing up something, like a stick or an Onion's leg.</li>
      <li><b><code>crushed</code></b>: Flattened after being crushed, and shrinking until it dies.</li>
      <li><b><code>drinking</code></b>: Bending down to drink a drop.</li>
      <li><b><code>dying</code></b>: Losing consciousness, and shrinking until it dies.</li>
      <li><b><code>flailing</code></b>: Flailing around, either because it's trying to wade out of water or because it got caught by an enemy.</li>
      <li><b><code>getting_up</code></b>: Getting up from lying down.</li>
      <li><b><code>knocked_back</code></b>: Getting knocked backwards, flying in the air.</li>
      <li><b><code>knocked_down_dying</code></b>: Lying knocked down on the floor, and shrinking until it dies.</li>
      <li><b><code>lying</code></b>: On the ground due to having been knocked down by an attack.</li>
      <li><b><code>mob_landing</code></b>: Getting ready to strike after landing on an object and latching on. Alternatively, causing damage after landing on an object.</li>
      <li><b><code>plucking</code></b>: Coming out of the ground.</li>
      <li><b><code>plucking_thrown</code></b>: Continuously backflipping in the air after being plucked.</li>
      <li><b><code>pushing</code></b>: Pushing forward.</li>
      <li><b><code>shaking</code></b>: Shaking itself, like when it comes out of water.</li>
      <li><b><code>sighing</code></b>: Sighing after becoming disappointed with something, like being unable to reach a carrying spot.</li>
      <li><b><code>sprout</code></b>: Idling underground; only the stem is visible.</li>
      <li><b><code>thrown</code></b>: Twirling in the air after being thrown.</li>
      <li><b><code>twirling</code></b>: Performing a twirl to celebrate.</li>
      <li><b><code>walking</code></b>: Walking.</li>
    </ul>

    <p>It can also have the following optional animations:</p>

    <ul>
      <li><b><code>looking_around</code></b>: Looking around. Picked at random when the Pikmin is bored.</li>
      <li><b><code>lounging</code></b>: Lying on the ground in a comfortable position, then getting back up. Picked at random when the Pikmin is bored.</li>
      <li><b><code>sitting</code></b>: Sitting on the ground, then getting back up. Picked at random when the Pikmin is bored.</li>
    </ul>

    <h2 id="sounds">Sounds</h2>
    
    <p>A Pikmin type needs to have the following <a href="mob_type.html#sounds">sounds</a>:</p>

    <ul>
      <li><b><code>called</code></b>: Called by a leader.</li>
      <li><b><code>carrying</code></b>: Carrying something.</li>
      <li><b><code>carrying_grab</code></b>: Grabbing on to something to start carrying it.</li>
      <li><b><code>caught</code></b>: Caught by an enemy.</li>
      <li><b><code>dying</code></b>: Dying.</li>
      <li><b><code>held</code></b>: Held by a leader.</li>
      <li><b><code>idle</code></b>: Becoming idle.</li>
      <li><b><code>thrown</code></b>: Thrown by a leader.</li>
    </ul>

    <p>Note that some sound configurations may be overridden as the engine needs to do specific things with them.</p>

    <h2 id="script">Script</h2>
    
    <p>Pikmin types have hardcoded <a href="script.html">scripts</a>, so the only thing you can do is enhance them.</p>

    <p>Some <a href="script.html#vars">script variables</a> control special behavior, like the Pikmin's starting maturity. To know which ones exist, you can go to the area editor, select a Pikmin, and read the tooltip of each variable.</p>

  </div>
</body>

</html>
