Point I left on (so I can continue the next day without losing my train of thought)
    

Current tasks (tasks being worked on, but not yet committed)
    

Next tasks (roughly sorted most important first)
    --- To fix ---
    If a hazard vulnerability is set to 0 but has a replacement, it should apply the replacement anyway
    It's impossible to go on the inner triangle on DEV Lab at 1465, 370
    Smaller enemies go for Winged Pikmin in vain

    --- 1.1.0 ---
    Swarming jingle
    Other menu improvements
        Results menu
            Show a chart with the requirements for each medal, your current run's score, your personal record score, and the maker's personal record score
    GUI things
        Allow makers to add custom GUI items, by having them simply be bitmaps or text
            Make it so makers can choose whether the item is drawn before others (like a background image) or after
            Make it so images can randomly select between a selection of images (useful for the title screen) (thanks Helodity)
            Move some non-essential hardcoded things, like the background images of existing menus, to this feature
        The code that determines what GUI item to go to via keyboard navigation isn't working so well for stuff inside box GUI items. In the results menu, with a mission with a lot of stuff in the stats, focus "Retry" and press right. It'll focus an unrelated item in the stats list
            Here's an idea: items that are inside of a scrollable box but are currently not visible should be considered as being outside the box, but with an ultra-tiny offset. For instance, a GUI item that spans from Y=10 to Y=50 on-screen and is a vertical list of buttons. The buttons currently visible on-screen inside this item are at Y=15, Y=25, Y=35, and Y=45. The next three buttons would technically be at Y=55, Y=65, and Y=75, but they're not applicable because they're beyond the bounds of the list GUI item. When calculating their position for the sake of keyboard navigation, just pretend their coordinates are at Y=50 (bottom of the list item) + 0.001 for the first item, 0.002 for the second item, 0.003 for the third. To keep relative dimensions intact, which may be a good idea, it's probably best to grab their offset from the bottom of the list item (so 55-50=5 for the first, 65-50=15 for the second, 75-50=25 for the third) and multiply them by 0.001.
            Or instead it should be hierarchical, in that an item with children is a candidate for being "focused", except when it's its time to act it dispatches it to the children list
            Even for normal stuff it's janky. Maybe the pivot point should be at the edge of the widget that matches the pressed direction, instead of the center?
            https://github.com/WICG/spatial-navigation
            https://github.com/NoriginMedia/Norigin-Spatial-Navigation
            https://gist.github.com/rygorous/6981057
        Logic to remember where it came from
        Logic to check that, if you could get to this item from the current item more effectively (lesser score) with a different direction, then skip it
        Logic to use the corners instead of centers
        Logic to use Euclidean distance or taxicab distance
        The ability to bind shortcut inputs -- stuff like the pause menu's page flipping with Q and E should be handled this way, so that the activation sound code isn't duplicated, and so that it can make use of other GUI niceties, like not letting an activation go through during a transition
    Controls improvements
        Controls manager
            Digital inputs should only emit down actions if it previously reached an up state. As it is right now, moving the analog stick causes a bunch of "1" actions
            Allow for button combinations
                Basically, the bind struct has a chord variable, of the input type, and if this is not-none-typed, then this input is required before the main input is performed
                If pressing an input generates both non-chord actions and chord actions, only do the chord actions
            Implement a screen stack system, with push&pop
                If you're holding inputs at the area start interlude, the inputs should go into effect frame 1 when gameplay starts
                If you're holding a direction as you read a sign, you'll continue to go in that direction, even if you let go. Pressing again fixes this. Make sure this is fixed.
                If you're whistling, pause the game, release the whistle, and unpause, the game will probably not detect the release -- do something about it
                Watch out for the input that causes a push/pop in the first place. e.g. the key down for when you hit Esc to pause, and then key up for when you get out of the pause menu while not holding it
            Implement sub-schemes, so a game can have a scheme for when you're driving, another for when you're on foot, etc.
            Handle controller hot-swapping in some way
            Some sort of priority system, or maybe just some logic for button combination overlap? If I bind M+A to take be the area image creator tool, I don't want my leader to walk to the left
            Panning the radar with an analog stick will also move the menu focus cursor, if there are binds for it to move with the analog stick
                I think the controls manager needs to know the state of every input every frame. Then, at every frame, it uses that info to figure out how much each action's value is (average or highest). Then if two actions are marked as mutually-exclusive, an input only contributes to one and not the other. These mutually-exclusive things are told to turn on or off at run-time, and only apply to inputs that do both things
        Menus
            Options menu
                Links to the control binds menu and the player setup menu
            Control binds menu
                The player only edits and creates control schemes, like the list of saved rulesets in Smash Ultimate
                    Each one should be saved to a folder, that way players can share the data file of a scheme they've created
                When assigning an input to an action, if it's a controller, also save a controller placeholder number, which can be changed in this menu
                A button or text or something explaining that this is just a control scheme, and if you want to assign it to player 1, go to the player setup menu
                It should come pre-packed with a few schemes: "Keyboard+Mouse" (default), "Switch Pro Controller", "Steam Deck", "Single Joy-Con", etc.
                    Confirm that these work both on Linux and on Windows
                If the player assigns an input that is already assigned to something else, it should give a warning
                If the player leaves the menu but some important actions don't have input binds, it should give a warning. Important actions are like throwing and whistling, not something like changing the leader backward
                When you set a leader move direction/group swarm direction/leader cursor direction, show a pop-up asking if you want to set all four automatically
            Player setup menu
                For each player, it shows their name (which can be changed by the player), what control scheme they're using, and what controllers, if any, they are using
                If the selected control scheme uses controllers, the player can choose which controllers fill in the controller placeholders of that scheme
                    Write the controller's names, given by Allegro
        Spray management should really be inventory management -- See the multiplayer section in this file for more info
            Show how close you are to concocting a new spray
        Check the controller's name, and if it matches the "Switch Pro Controller" or whatever the name used for the Joy-Con is, the input icons should show the name of the button instead of a number
        If an action has multiple binds, the icon to show should prioritize controller inputs if the last player input was a controller (for analog sticks only if > 0.5), and keyboard/mouse otherwise
        If the player is using a controller on any of their inputs, and the controller in question disconnects, the game should pause and let them know the controller's been disconnected. In order to avoid chaos, this should only happen during the gameplay state, and should simply enter the pause menu (if it's not already there)
        Current leader should move slower if the analog stick is not held all the way
        If the player starts holding some inputs during the "Ready..." interlude, they should go into effect as soon as gameplay starts
        Test it on the Steam Deck

    --- 1.2.0 ---
    Ice Pikmin
        Water freezing
            How does the area maker specify the amount for each body of water? Should they, or should it be determined by the area?
            The indicator for the amount of Ice Pikmin on it should be where the first Ice Pikmin was placed
            Logic to turn the sector solid and navigable by non-Blues
            Logic to freeze all enemies in the water
            Logic to call the Pikmin out and thawing
        Ice hazard for Pikmin attacks, and ice hazard for enemy attacks
    Glow Pikmin
        The ability for Pikmin to teleport to the current leader if they've been idling for a bit
        Onions should be able to specify they can't be interacted with, so Lumiknolls can be Onions under the hood
        Glow Pellets should be internally pellets, but only able to be received by Lumiknolls
        Glowmob?
    Mob rotation should have acceleration too
    A way to start a timer after a random amount of time, based on the coordinates; this allows stuff like a group of fire geysers to start spitting fire at different times
    [NEEDS BRAINSTORMING] Re-think how missions work
        Achieving a simple ruleset, like Collect Treasures! is difficult, achieving a complex ruleset is difficult, and the whole system doesn't support edge-cases very well (what if you want a mission where you have to get all treasures AND defeat all enemies?)
        I think it may be best to just make the system very open and customizable, and also have presets or something for the most popular types of mission
        Mission records could save the time the player took, which is good for people who want to compare milliseconds, without interfering with the main, less-granular point-based scores. Each mission should specify whether a higher time is better or worse, and the time can be used to resolve score ties when deciding a new high score (thanks Helodity)
        A mission's data should control how each HUD element displays its information
            Display "current/total", or "remaining/total", or "current", or "total", or "remaining"
    Areas should be able to set their own rules, overwriting config.txt. This should be shown in the area details
        What upgrades are on
        Maximum Pikmin in field
        If Onions work automatically, by ejecting Pikmin whenever the amount on field is not at max (a la Bingo Battle)
        If Onions spit out fully grown Pikmin instead of seeds (a la Dandori Battle)
        If Onions should pop new seeds when an extinction happen or if they should let the extinction happen
    Floors-over-floors; mostly for bridges
        New thoughts
            Since bridges are now more powerful, FOFs only have a purpose for overhangs. Which is such a rare thing that I'm thinking the effort isn't worth it at all
            Plus overhangs can be faked using mobs that can be stood on top of
            Instead of floors over floors, the maker should be able to place a secondary floor texture above the first one
                The Z should be customizable; that way you can have, for instance, tall grass
        Old thoughts
            Revamp physics
                The logic is the same as the old logic, except replace sectors with floors
                Can I add slopes?
                To figure out what floors to use:
                    If the mob is touching the FOF, the FOF's Z
                    Else, the normal floor Z
                If the sector a mob is going into has a FOF, the FOF can be unaccounted for at collision check time, but then the mob may end up inside of it after it enters the sector, and needs to do a step up
            To draw their shadows
                4 pixels of purely black alpha 80%, then 8 pixels of gradient to alpha 0
            Edge cases:
                FOF stairways need to work well
                [NEEDS BRAINSTORMING] Can a mob go from sector A's main floor (0), to sector B's main floor (50), to sector A's FOF (100), to sector B's FOF (150)? SHOULD it?
            Precautions:
                FOFs in dark sectors should be dark
                Make sure users can create a FOF that's 0 units above the main floor, for decoration purposes, and that this does not have an impact on collisions and whatnot
            Misc
                Does it make sense to create a FOF above a bottomless pit?
                https://www.deviantart.com/ronindude/art/Battlemap-Beach-Cave-730069774 I like the style of this -- maybe it can help with readability?
    
    --- 2.0.0 ---
    Multiplayer
        1 struct of info for each player, multiplayer controls
        During loading, show how the screen is going to be split, and show which player is in which screen
        Split the pause menu into two menus
            The general system menu becomes its own menu. It is full-screen, pauses everything, and every player should get their pause menu input, so that if one player is busy mashing, they don't start picking options because somebody else paused
            The radar, status, and mission pages should be their own "leader monitor"-like menu. It only affects that player's screen and does not pause gameplay.
        HUD changes
            Split-screen logic: vertical split (better because you can increase the window size and better fit modern monitors, and also because physically chances are one player's sitting to the left of the other, and the other on the right), and four-way split
                In the case of three players, the first two are on the top half, the third is centered on the bottom half
            Add HUD support for all the different split-screen layouts
            In competitive modes, tint each player's HUD with their team color or something
            Show each player's name in their screen somewhere
            [NEEDS BRAINSTORMING] Bingo Battle in P3 is organized such that the two players' HUDs are mirrored. This is so the bingo cards can be center screen right next to one another, considering your card is just as important as your opponent's. If Pikifen lets you specify one layout and all players use the same layout, we lose this bit of design, but if Pikifen forces you to specify a different layout for all players, that'll get really annoying really quickly (or not? I mean, you only set up the HUD once...)
            The widget focus cursor should have a "P1" icon on the corner, or whatever the number is for the player currently controlling it
        Make sure that:
            Leaders can't steal each other's group members
                This includes Pikmin that are knocked down and get whistled, and sprouts
            Leaders can't interact with each others's Onions or ships
            Logic like culling isn't relying on just the first player
            Pikmin can't carry something the opposing team is already carrying
            Flower Pikmin will overpower bud Pikmin in a 1v1
            Candypop Buds can't accept Pikmin from another team
            Group tasks can't accept Pikmin from another team
            When one team loses all their leaders, their player(s)'s screen goes black (important because if their leader mob got deleted, the engine won't be able to show anything anyway) and just has "KO" written on it or something
                The current logic just abruptly ends the gameplay state if there are no more leaders. But it should probably be changed such that all calls to curLeaderPtr (or the equivalent to each player's leader pointer) are protected, so that if the pointer is nullptr they just try something peaceful instead of crashing
                Actually, the "KO" should be in a corner or something, and the player should be allowed to pan the camera to spectate
        [NEEDS BRAINSTORMING] Figure out how the game is meant to work when:
            A player's leader needs to throw another's
                Maybe instead of Pikmin 3 Deluxe's organized method, any player can at any moment pick up another player and throw them, a la Mario Maker 2? It's mechanically simpler, and it's always fun to casually throw your friends around
                    Maybe for this to happen, the next group member feature can have one extra option for the closest human-controlled leader (if they are in-range)
                    Careful for when two players are near each other, spamming the throw input towards an enemy, and one of them ends up accidentally throwing the other. Maybe throwing should only happen if the throwee has nobody in their group?
            A player sees an opposing team's Pikmin on their screen
                I think the player's own Pikmin (and Pikmin belonging to another player that's still on their team) should appear normal, but the opponents should be marked. Maybe a triangle above them?
        Roulette items
            The P2, P3, and P4 ones
            Clock: Inflicts a status effect on Pikmin (maybe the leader too?) that makes them move at half speed for 10 seconds
            Conversion: Picks three Pikmin at random from the opposing team(s) and converts them to your team. If a team would end up with 0 Pikmin this way, then one of the randomly chosen Pikmin is instead unharmed
            Teleportation items: Bring opponent to you, teleport to opponent, swap places with opponent, teleport opponent somewhere random
        An "inventory" system
            With multiplayer, there will likely be players on keyboards and on controllers. Players on a controller can't really afford mapping 6 buttons just to manage sprays and the roulette item
            Sprays and the roulette item should go in the same inventory
            [NEEDS BRAINSTORMING] How will this work in terms of interface? Should it re-purpose the current spray system? If so, it should probably always behave the same, whether you have 1, 2, 3, or more sprays/items, as opposed to using a two-button mechanic when you only have two things
                But if I standardize the spray system/inventory system, it'll look weird when you have two items, since both the back and forth buttons will be showing the previous spray
            [NEEDS BRAINSTORMING] Maybe place the sleeping ability here?
            I think making it work like the weapon selection quick menu in Breath of the Wild might be good
            Further thoughts
                Pikmin 4 has three basically: the action menu, the actual inventory, and the shortcuts. Shortcuts should be bindable in the options menu for Pikifen so it doesn't matter
                If I go with an on-screen "dial", it has to be four-way, not eight. Eight is too much information, and detecting which direction you _released_ is pretty hard (what if you do A+D and release D slightly before A?)
                Whatever inventory menu shows up cannot pause the game, otherwise all players pause just because one needs to pick something. This also means it shouldn't be fullscreen
                What if the "up" selection is the most recently-used inventory item, "right" opens up a full menu, and "left" and "down" are just some fixed things?
        Change area selection menus to have a button that takes you to another menu where you pick how many and which players will play
            The menu should be split into four columns, each one for a player
            Each column has buttons to toggle that player on or off
            Each column should also let players choose a name, if they want (it defaults to Player 1, Player 2, etc.)
            Each column should also let players pick which control scheme they want to use
            Each column should also let players pick which teams they belong to, for the multiplayer versus game mode
            Each column should also let players pick what leader they want to control first, for the multiplayer versus game mode. Should probably let you pick from all leaders, not just the ones in the area
        Victory rules
            KO
                When a team loses all Pikmin or a leader (maybe an option to make it ALL leaders instead?), they lose. Last one standing wins
                Compatibility data: None; all areas are compatible
            Collection
                First team to collect a certain amount of certain treasure wins
                In the canon games, this is P2's yellow marbles
                Compatibility data:
                    What the treasure is. If not specified, a random treasure from the area is chosen
                Default recommended values:
                    Collections amount is 4
                When (if) time is up:
                    Player with the most collected gets +1 point in their overall standing. No points are awarded in the case of a first-place tie
            Capture the Flag
                When a team collects the other team's flag they gain a point. First team to reach a certain amount of points wins
                In the canon games, this is pretty much marble/macaroon capture. Delivering once is enough there, but here, if the amount of captures is higher than 1, the flag should respawn in its original location after being captured
                The object spawns near the Onion, some small distance away, facing like 45 degrees left of the direction from this Onion to the other area center (the average of all Onions)
                Compatibility data:
                    What the flag object is. If not specified, a random treasure from the game is chosen
                    Where the flag objects spawn. If not specified, they spawn near the Onion, some small distance away, facing like 45 degrees left of the direction from this Onion to the other area center (the average of all Onions)
                Default recommended values:
                    Captures amount is 1
                When (if) time is up:
                    Player with the most captures gets 1 point in their overall standing. No points are awarded in the case of a first-place tie
            Recovery
                When a team collects a specific object that's at the center of the arena, they gain a point. First team to reach a certain amount of points wins
                It could be an item to bring to one's own base, or to an opponent's base
                Compatibility data:
                    What the target object is. If not specified, a random treasure from the game is chosen
                    Where the target object spawns. If not specified, it spawns in the same place as a randomly-picked mob
                Default recommended values:
                    Captures amount is 1
                When (if) time is up:
                    Player with the most captures gets 1 point in their overall standing. No points are awarded in the case of a first-place tie
            Bingo Hunt
                Each team has a card with objectives
                Card modes:
                    Single-card:
                        One card shared by everyone
                        When an objective is completed, it's claimed by that team and is no longer possible to obtain
                    Same cards:
                        Each team has their own card, but they're all the same card
                    Random cards:
                        Each team has its own card, random
                Victory modes:
                    Line:
                        First team to collect enough things to score a line wins
                        If there is bingo, then there should be an option to allow simultaneous bingo patterns to score multiple points. Like if the final thing you collect scores 3 lines at once, you go up 3 points in the overall standing. (thanks Nieton)
                    Majority:
                        First team to clear X objectives wins, X being the highest number possible where other teams cannot possibly reach
                Compatibility data:
                    What objects are eligible to belong in the objective cell universe, including duplicates. If not specified, random treasures or enemies from the area are selected, and if there are none, choose random objects and enemies from the whole game
                When (if) time is up:
                    Player that's got the most incomplete (3 out of 4) line gets 1 point in their overall standing. No points are awarded in the case of a first-place tie
                [NEEDS BRAINSTORMING] Maybe more objectives than just "Kill an X"?
            Point capture?
                When a Pikmin is on top of a point, it slowly captures for that team, a la TF2. The more Pikmin, the quicker it captures
                First team to have the captured point for X time wins
                There could be one point or multiple
                There could be an option for the team's time to only tick up when Pikmin/leaders are on the point, or while the point is currently captured
                Compatibility data:
                    Where the point is. If not specified, it spawns in the same place as a randomly-picked mob
            Build a Wonder?
                Like in Age of Empires, you can gather materials into a spot, and once you have enough, you can start building a Wonder. If you manage to build it, you win automatically
            Tag?
                One team's leader is "it", and hitting another's leader (via Pikmin or punch) causes them to be "it". When a player becomes "it", all Pikmin in the area go under their control, and theirs only. "It" players can leave Pikmin in choke-points, use pincer maneuvers, juggle between growing more Pikmin, or keeping a low army to make life worse for the next "it". Runaway leaders can't do much other than run and punch each other, or wildlife. Every team has a timer that ticks up when they are "it", and the first to reach 3 minutes or so loses.
            Time?
                When time is up, the player with the most Pikmin raised wins. Or with the most enemy defeats. Or treasure points collected. Or mission points for custom competitive missions. And so on.
            Delivery?
                There are loose, 1-weight objects stranded around the area, and players can send their Pikmin to deliver them to a pick-up point somewhere in the center of the area. The player to reach the highest amount of deliveries wins
        Rulesets
            In the area selection menu, there should be a button to take you to the player setup, and another to pick a ruleset
            In the ruleset editor, you can pick...
                What victory conditions you want on (KO victory is always forcefully on)
                What rules within those victory conditions (number of capture flags necessary to win, number of collectibles needed to win, etc.)
                    An area can choose a recommended number, so there should be a "recommended" selection in the picker, which uses the area's recommended, or the global default for that victory condition
                Roulette item frequency: off, normal, common
                Roulette item bias: purely random, spawn closer to the player behind, spawn two/three/four equally close to each base but random items, same but all the same item, spawn in specific spots at specific intervals
                Starting Pikmin for each team
                Number of leaders for each team (if this is, for instance, set to 1, but players play 2v2, then each team will forcefully have 2 leaders instead)
                Pikmin killed by other Pikmin are reborn at the Onion, or lost permanently
                If Pikmin can attack each other
                If Pikmin can attack leaders
                If a given item can suddenly be worth double or triple the normal amount (like in Dandori Battles)
                If a Pikmin sees enemy Pikmin carrying something, whether they try to attack them (P2/P3), or overpower them (P4)
                If collected objects and defeated enemies eventually respawn [PIKMIN 4]
            A special "random" ruleset, included with the engine, and that cannot be deleted. Picking this will pick a ruleset at random after every match
                Maybe add a way for this feature to exclude certain rulesets? Some people can make meme rulesets to use once or twice, and don't want them to be picked during a chill everyday "random ruleset" session
            A handful of rulesets for basic battles, Pikmin 2 battles, Pikmin 3 Bingo Battles, Pikmin 4 Dandori Battles, etc.
            Rulesets should be saved in a folder, that way players can share the data file of a ruleset they've made
        A way for attack hitboxes to cause no knockback, otherwise Pikmin battles will keep knocking the Pikmin down
            Maybe add three types of knockback: none, flinch (makes leaders reel back in pain and Pikmin fall over), and chuck
        Onions should be able to auto-eject seeds
        Area gameplay
            New area data
                Areas should let the area maker specify the minimum and maximum number of players/teams that are allowed
                Area makers can specify where cherries can spawn. If they don't, no cherries spawn
                If you try to play with a number of players/teams not marked as compatible by the area maker, the game will still let you, but will give you a warning. If needed, it will then copy-paste the existing leaders such that there are enough for everyone to control
                    It should spawn them in the same coordinates, though maybe slightly offset
                    It should try to generate leaders that don't exist yet, probably following the standard leader order. e.g. If the area has an Olimar, a Louie, and a Brittany, and a 4th player wants in, they should get the President
            For simple-type areas and mission-type...
                All players are under the same team
                Each leader placed in the area is one player
                The game just gives the earliest leader in the leader order to player 1, then to player 2, etc. e.g. if there's a Louie mob and an Olimar mob, P1 should get Olimar
            For arena-type areas...
                Players can be in teams or not; depends on their choices
                The area maker must specify where team 1's leader goes, where team 2's leader goes, etc.
                Alternatively, they must specify what leader mob corresponds to what team's leader, but since players can pick their leaders, this doesn't mean they will get the leader in the area
                Players in the same team spawn in the same spot, though slightly offset, just like how if the game wants to spawn more leaders than there are available
                The game should identify which team's Onion and flag is which, automatically, simply by picking the nearest one
            Only areas that can be played with the victory rules specified in the current ruleset will actually appear in the list
        Mission high scores need to be saved independently for each player amount
        Results screen
            Take ideas from the Today's Report section of this file
            Competitive level results screen should feature a graph showing how different things changed over time -- Pikmin counts, progress towards an objective, etc., along with key moments
        Save stats for how much time was spent in normal gameplay, and how much time was spent in competitive modes
        Make some areas about multiplayer puzzles? Hopefully ones that can also be completed by a single player so long as they swap leaders
        An option that makes it so the audio of players on the left side of the screen plays louder on the left speaker and vice-versa, or if all players' sounds play normally across both speakers
    Buried treasure
    Solid logic for enemies carrying treasures
        Breadbug tug-of-war logic
        Pikmin thrown at a treasure a Dweevil is carrying will latch on to the treasure (thanks Enderdude6)
    Weather improvements
        Add a weather editor
        [NEEDS BRAINSTORMING] Maybe call it ambiance?
        All parameters (wind, blackout, precipitation, etc.) should be configurable in a single minutes table
        Make it possible to have a weighted random distribution table for what other weather conditions it can change to as time goes by
            Example: 80% clear, 20% overcast, set to pick every hour. It could make it so it's clear at 3PM and 4PM, but starts getting overcast between 4 and 5, and uses the overcast weather at 5PM
        Wind
        Precipitation
            Only on sectors that have full brightness, which are presumed to be outside -- make this a setting, though
                If this is too processor-intensive, then have caves and insides be controlled by area scenes, like how Pikmin 3 splits into scenes
            https://www.youtube.com/watch?v=66f6bI2uIdQ
            https://gamedev.stackexchange.com/questions/164361/2d-blizzard-snowstorm-effect
            Idea:
                Since I can't draw all particles of precipitation that are in the entire area at once, and since the devs need to be able to control the density, the area is separated into an imaginary grid, much like how the blockmaps work.
                Any given grid cell can only have one particle (though if something like a leaf flutters about randomly, it can leave its grid cell).
                All particles spawn in waves, though for variety, all cells have a fixed delay, ranging from 0 seconds to the wave duration.
                    A cell's random delay can be obtained by hashing its X/Y coordinates.
                The X/Y coordinates of where a particle spawns inside a cell are random every wave.
                    These are obtained by hashing the X/Y coordinates and the current wave number.
            Snow, wind, leaves, embers
        Thunder flashes
            Maybe have an option to make the flash much weaker, because of seizures?
        Types of blackout
            Only the leaders, only leaders + Pikmin, everything but leaders + Pikmin, etc.
        Mist
            See if that clashes with fog, or if it can be its own thing
        Vignette
        [NEEDS BRAINSTORMING] Floating particles found in caves -- or should this count as something different from weather? Maybe it'd work better as an object that spawns them
        [NEEDS BRAINSTORMING] Position of the sun, and position of the moon?
        A property that multiplies the speed of the three shadows's sway. This way, windy weather can make the trees shake faster, like in real life
        Add the relevant particles to the base content's weather
        Set the entire area to a hazard during a part of the day (e.g. rain that drowns non-Blue Pikmin)
        Set the direction of the sun -- indoor lighting likely uses a fixed light direction
        A way to control what parts of the area use what weather -- that way, a cave can use a blackout, or stay out of rain
        You should be able to tint water -- for instance, at sunset, making the water look a bit more pink
        A way to specify an ambiance sound effect that loops
            Add sounds to the base content for wind, leaves rustling, birds, frogs, etc.
        As a day progresses, mob shadows should become invisible long before sunlight ends. IRL, during twilight there are no shadows, but there's still overall visibility. That said, for gameplay purposes there should probably always be a shadow, even if faint
    Replay
        A vector of "abstract" objects
            A parameter with info if they're an obstacle, Pikmin, leader, enemy, or treasure (reflects how they're drawn)
            An array of their X/Y over time; saves once a second or so
            A parameter for their time of death and time of creation
        A vector that contains when a leader change occurred, and to what leader
        When playing back the replay, interpolate the position of the mob between the last key-moment and the next
        Save into a binary file so it can be shared with other players
        Make replays save whenever there's a crash dump
    Caves
        Area editor changes
            Allow it to create cave units
                The maker specifies the type -- dead end, corridor, or room
                Cave unit sizes are measured in cells. A dead end is 1x1, a corridor is like 1x2, etc. Each cell length should probably be 256px so it fits with the grid nicely. Each door should be 192px (or maybe more, so that the gate pillars can fit?)
                The maker has to specify at least one spawn point of each type, right? Maybe it should depend on the cave unit type or size...
                The maker has to specify where doors are. Door centers have to be at the center of a cell's edge.
            Allow it to create cave sublevels
                The maker chooses whether to create a sublevel using regular layout drawings, or via cave units
                When making the sublevel out of cave units:
                    The maker indicates a list of possible cave units
                    They can place some, none, or all units in fixed locations
                    If there are gaps that the game is meant to fill in with randomly-placed units, the maker must specify stuff like the number of rooms, the room-to-corridor ratio, etc.
                Basically the maker just specifies what units it can use, and what objects spawn
                For object spawning:
                    The maker should be able to add groups at will
                    Each group can be of the "fixed" type or the "random filler" type
                    In the fixed type, every entry inside that group MUST be spawned, with the amount provided
                    In the filler type, the maker specifies how many objects of this group to spawn, and each entry specifies the odds (the user specifies the weight, but the GUI should show the percentage as well)
                    Every entry lets you pick the object, fall type (or maybe for a future version), and spawn location
                        Spawn locations should be easy enemies, hard enemies, special, decoration, cave unit seams, corridors, or dead ends
                    The editor has to somehow detect if the cave the maker is trying to create will have enough space to accommodate all objects
        Randomization algorithm
        Thoughts
            When the game places units, can it just place the unit's sectors in the void and call it a day? In terms of collision it might work. What about wall shadows? I guess they may not render to the side that's facing the void, but walls leading into the doorway may have their shadows shrink to a small size because the tip of the wall is adjacent to the void...
            Cave units have spawn points, each with a different type. If all type X spawn points have been used up and the game wants to spawn more type X objects, then it should maybe use some free spots of any other type
            Allow the user to create areas that, instead of using typical free geometry, just use cave units slapped together manually like prefabs?
    Story mode stuff
        Campaign
            Pikifen can have multiple campaigns. This way players can install new stories via packs
            Area listing
                Which areas the player can land on in each day/night, along with rules on when or how they can visit them, like locked behind a number of collectibles, an amount of a given point system, or some flags
            Story moments
                An ordered list of moments that represent a point in the general story. Each one:
                    Is given a number, and they can only advance forward
                    Has rules for what makes it advance forward, like if the player got 1000 Sparklium, or if flag abc_def is true, etc.
                    Specifies what happens when this moment is reached, like playing a cutscene, setting a flag, etc.
            Catalogs (e.g. Piklopedia, Treasure Hoard)
                A file, likely game_data/<pack>/misc/catalogs.txt is responsible for:
                    Which catalogs exist, as well as their icons, unlock criteria, etc.
                    What entries exist in each, in order
                    What logs each entry contains (Olimar's notes, Louie's notes, Sales pitch, etc.)
                    How each entry is unlocked (touching it, seeing it, killing it, recovering it to an Onion/ship, etc.)
            Collectibles (e.g. ship parts, treasures, etc.)
                How they impact the story
                Key collectibles? (e.g. Exploration Kit or Pikmin 3's phones)
            Point systems
                Each system is a currency, power level, etc. the player can accumulate and lose them over the story (e.g. Pokos, Sparklium, juice)
            Rules
                Maximum amount of days before a game over
                What to do at the start or end of each day, e.g. consume one juice, go to Game Over if there is 0 juice, etc.
        Mid-gameplay features
            Sunset
                On-screen warning
                Draw the safe radius around all Onions
                Wild Pikmin and sprouts should be immune to the sunset, as well as to changing the day or the game's lifetime statistics (number of blooms, number of births, etc.)
                Blink Pikmin in danger on the radar
            Upgrades (like the Exploration Kit)
                The ability to turn them off in the pause menu
            Extinction
                Be careful with Candypop Buds
                Cave extinction should probably be named something else, since the Pikmin species aren't necessarily extinct...
        Persistence
            When saving, write somewhere that the save was successful, and warn about save errors
            The save file should contain a checksum for the save file proper, and one for the game files/folder
            Save file
            Object (re)spawning
                Use the respawn rules of each specific mob instance in the area
                Treasures that started moving after being carried should start recording their coordinates, so that when the player comes back a different day, the treasure spawns there instead of the original spot
                Save sprouts between areas, days, etc.
                    Don't forget that sprouts should turn into flowers overnight
                At the start of a new day, open bridges, dead enemies, etc. should go to the final states instantly
        Cutscenes http://www.pikminwiki.com/Cutscenes
            Make all cutscenes skippable and pausable
            Either make everything freeze during cutscenes, except for the actors that are part of it, or make everything continue, but health values be frozen (this way, leaders and Pikmin won't get hurt while the player can't react)
            A cutscene queue, in case multiple ones need to start at once
            Scripting for them
                Among other things, a way to move the camera, both with teleport, and smoothly
                Maybe it should use the exact same logic as regular mob scripting. Obviously mob actions won't work, but changing states, ticking events, and performing actions onto mobs works
                    Perhaps an action to start controlling a given mob from here on, so that actions apply to that mob only. To make sure there are no leaks, each "start_controlling_mob" action must have an equivalent closing "end_controlling_mob" within the same event.
        Area changes
            Areas should be able to specify whether they have a "types out in the field" limit like in Pikmin 4, and if so, they can also specify how many, and what are the recommended types [PIKMIN 4]
            Objects should be able to specify what days they do and don't appear in
            Objects should also be able to specify when they respawn
                A way to specify if the mob should come back the next day if its collectible hasn't been reclaimed yet? Used for bosses, for instance
        Pause menu changes
            When "end day" is chosen, it should warn about idle Pikmin that will get left behind
            The "quit" option should take you to day selection
            A "story" page with a summary of how close you are to your goal, misc. story mode progress, and how long you've been playing for (useful for speedruns)
            Total Pokos (or whatever point systems exist) collected in the status menu
        Story Mode menu
            When entering, the player can choose to load an existing save file, or create a new one
                Every save should have a name, or "Save File #" by default
            When the player creates a new save file, they can choose which campaign to play, if there are multiple
        Area selection menu
            Celebrate when an area was locked the previous day but is no longer locked today
        Today's Report
            One long page filled with everything, that the player can scroll up and down -- this way there aren't several pages the player has to mash through, and it's scalable with any number of Pikmin types, content, etc.
                Population chart over the day, with icons for key events
                Deaths by type, both today and so far (careful not to count Candypop Buds as deaths)
                Total number of Pikmin left in the Onion
                What objective items were collected today
                Total of the objective collected, and total remaining
                Total amount of time in which you had any idle Pikmin, and a percentage
                The player can press a button somewhere to watch a replay, or click to continue
        Final Results
            Completion time, in seconds
        Misc.
            The ability for the radar to only draw visited portions
            The ability for dead flower Pikmin to leave a sprout for the next day. The game settings can specify the change of a dead flower leaving it behind (including 0% to disable the feature)
            Pellet Posies, Candypop Buds, etc. should only cycle between the colors available
            The ability for some Candypop Buds to not spawn if the player has over X Pikmin of that type in total
            A "casual mode" option where you can disable the day number limit, if the game allows that?
    More editors
        Script editor
            A way to un/fold the contents of states and events
            A way to view all states, with arrows pointing to which events lead to which states
            One possible layout is four columns; first one is a list of states, second is a list of events in the chosen state, third is a list of actions in the chosen event, and fourth is parameters and info about the state
                Probably too much info shown at once
            Actions that are critical to the logic flow should be colored or styled different from actions that are aesthetic
        Loose content editor
            Basically just a frontend for editing hazards, liquids, misc. configs, mob types, spike damage types, sprays, and statuses
    
    
Small tasks (for when I'm feeling lazy)
    Style
        Document the code with comments
        Use #pragma region in header files?
        Remove parameter names in function declarations?
        Struct/class contents in header files have comments with --- separating them, but those comments should also say whether it's the public or private things, so it's easier to navigate
    Cleanup
        Remove magic numbers and magic strings (make numbers and strings into constants)
        Try to refactor the mission strategy patterns to also work for the area editor logic
        Clean up some coupling problems using https://github.com/larspensjo/SimpleSignal
    
    
Misc things (so I don't forget)
    Minor bugs to fix
        Treasures under a bridge can be carried by Pikmin over the bridge (thanks Helodity)
            Grounded mobs should consider Z in order to find an object and to reach an object, e.g. Blue Pikmin should ignore treasures above them when swarming, and should only consider themselves on the treasure if they're within a certain Z
            Flying mobs shouldn't consider Z in order to find an object, but they should to reach, e.g. Winged Pikmin should consider treasures below them when swarming, and should only consider themselves on the treasure if they're within a certain Z
        If both you and the Pikmin are on bridge objects, just assume that it's fair-game to throw, it's easier that way
            Or maybe give bridge objects a property that's the bridge ID, and check if it's the same bridge ID?
        Pikmin that gain some status from nectar will keep sipping the whole thing (thanks Neo)
    Attack improvements
        Normal hitboxes should specify what happens when a thrown Pikmin touches it -- latches, bounces off, or ignores (right now, all non-latchers are bouncers, so throwing a Pikmin while on top of a fire geyser results in the Pikmin bouncing back)
        A checkbox for the attack hitboxes that make it so the knockback simply pushes without actually making the Pikmin/leader fall over (thanks Helodity)
        A way to add random variation to the knockback angle of a hitbox
        With the current Pikmin "missed hitbox" register, it's possible that an enemy will want to attack with the same hitbox multiple times in the same animation, but all those times will be ignored for 1.5 seconds (think the Man-at-Legs's shots)
        Maybe make it so that when a mob touches a hitbox, it sets a flag, and if the next frame it also touches a hitbox, ignore the event; repeat until there is a frame where the hitbox hasn't been touched -- this could stop the mob from getting hit multiple times by the same hitbox
    Aesthetic
        [NEEDS BRAINSTORMING] Obstacles should have a different health meter, so it doesn't look like health, but rather completion progress
            Or not -- most obstacles already show their progress visually rather than with a health wheel
        A property for mob types to control whether the health is always visible, or disappears after X seconds, only to reappear when the leader cursor goes over them
        The sparkle particles on treasures need to be more obvious
        Mobs shrinking or increasing in size because of their height should be limited -- fall too much and your dimensions turn negative
        On a walkable object, if you have a leader and their Pikmin on top, the Pikmin will kinda jerk along, not very smoothly
        There should be some petal particle effects when a Pikmin loses their maturity
            Each Pikmin type needs to specify its own petal color
        If a Pikmin type has black as the color, the idle glow needs to... not be black
        Mob shadows could just be the sprite itself again, instead of a circle? (thanks Helodity)
        Animate the mission results screen. Basically, reveal one thing at a time
            Add sounds for an item's run-up ticking, an item's run-up finishing, a ka-ching for getting a medal, and a puff for the complete/failed stamp
        Loading screen area names and subtitles should have custom colors like https://cdn.discordapp.com/attachments/212795100818833408/1095572527583080488/image.png (thanks Captain Salty)
        Animated loading screens
            When loading stuff, the loading functions could receive a callback as an argument. Then, for every one piece of content they load, they call the callback. The callback would be a function that checks if it's time to draw a frame, and if not, quits out. If it is meant to draw a frame, it just draws it
            See how Allegro's ex_loading_thread.c does it
        A way for an area maker to specify sectors or regions that are out-of-bounds, but should still show up on the radar (darkened). This would help the player recognize parts of the area in the radar via landmarks
        Pitch the whistle by the swarm angle (or intensity)
        More music mixes
            Figure out how many variants can play simultaneously so that the engine can smoothly increase and decrease their volumes to blend.
                If we can't get away with many variants, explain in the FAQ why that is
                What if only one variant can play at a time, but multiple can be supported? Playing the base song and also the fight, task, treasure, and Spiderwort overlays means five streamed songs. But if only one is allowed to be picked at a time, it's probably still good without sacrificing performance -- the music manager would be told what conditions are currently met (leader is fighting an enemy, Pikmin are working somewhere, leader is near Spiderwort, etc.), and then play the variant for the highest priority one. When swapping variants, it should quickly fade the old variant down and fade the new one up
        Leaders should have their antenna light separated like Pikmin do
        Use a screenshot for the title screen
            The left side should be all organic, and the right side should have some DEV Lab stuff. The bottom should probably be something special but not attention-grabbing, the top should give space for the Pikmin to form the letters, and the topmost pixels should probably help the disclaimer text and version number readable, but not call attention
            Maybe the play and the make sides could have their own backgrounds, and once you flip to either of those pages the backgrounds slides in
            The Pikmin flowers should render a small shadow under them too
        Healing at the ship should make a sound
        When quick-testing from the area editor, make the loading screen text fade out quickly, so it's more snappy and so that the "GO!" text doesn't overlap it
        Cursor trail improvements
            In-game, it should be the leader's cursor that has the trail. In menus, it should be the mouse cursor
            If the trail gets temporarily interrupted, like when you switch to a different leader, or when the mouse cursor goes off-window, it should know to split the trail, instead of trying to connect it between the two break spots
    New options
        Option to pause the game if the window is not focused
        An option that changes the font to something easier to read, and decreases the effect of GUI text juice grow
    Mechanics
        Lock-on
            Auto [PIKMIN 4]
                Makes the leader cursor snap to the nearest object (or hitbox?) in-game
                The mouse cursor, i.e. the spinning flower, should always show where the OS mouse cursor is. It's just the leader's cursor, i.e. the outer shell, that locks
                An option to set the radius in which auto lock-on applies
                An option to toggle this on or off
            Manual [PIKMIN 3][PIKMIN 4]
                A button that locks the leader cursor in place
                If on the floor, it just locks the leader cursor there
                If on an enemy, it locks to that position (hitbox + offset) of the enemy, like its back
                While locked, movement on the mouse or gyro (if gyro is ever added) is ignored -- this allows the player to recenter their peripheral
                An option in the options for it to either lock with holding the button, or toggling
            Throwing or charging (or dismissing) Pikmin onto a locked-on target should make them work exclusively on that
        Charge
            Allow the player to pick between full-squad charging or standby type charging
            Allow the player to pick between placing only the minimum amount of Pikmin necessary onto the task (P4) or maximum (P3)
                Hitting charge again should use the maximum
        Half-whistle
            Options for whether whistling workers brings them to you right away, brings the excess to you while keeping the bare minimum in the confirming state, or put all whistled Pikmin in the confirming state (whistling any Pikmin in the confirming state always brings them to you)
        Water depth (thanks ThyCheshireCat)
            Either way, consider giving water surfaces their own Z. Not just for drawing, but for the purposes of considering something submerged, too
        Enemies could have individual territories -- a circle that can be anywhere (detached from the mob) and have any radius, and the mob has to be confined to that
        Objects falling from the sky
            When a leader approaches, when a Pikmin approaches, when carrying, etc.
        Game config parameters:
            Nectars: Work like in the engine, or like in the classics?
        Figure out what to do with sleeping now that Go Here exists. Remove it? Keep it as is? Hide it in some other place like the proposed "inventory" system?
            Maybe make it a different feature, one that makes the leader play dead so enemies stop targeting them (thanks Kolabold)
        Add more items to the inventory, like Pikmin 4's lightning, pikpik carrots, Glow Seeds, etc.
        A "huddle" group mode, where all the Pikmin in the group are huddled very close to the leader. This will be useful for hiding spots and for lily pad stations. Dismissing in this state should dismiss on-spot instead of into separated groups
    Audio
        Weird limitations
            If Pikmin are already carrying something elsewhere in the area, far away, the Pikmin told to carry something here will rarely play their sound, because the others are already doing it. Likewise, I think only a few geysers in DEV Lab actually play a sound. I can't make 0-volume sounds not play, otherwise stuff like geysers that are far away at spawn will never play sounds...
        Ducking
        Options for mono/stereo
        Footsteps should be tied to the terrain texture
            Also dust particles?
        Editor music options: off, standard editor music, area's music (area editor only), area's music but with a low-pass filter (area editor only)
            Mix tracks, like for when the player is drawing something, or dragging something, or whatever else
        The audio options menu should have a button to playback one or two sound effects
        More sounds
            Onion spinning up to generate
            Un/Pausing
    Radar
        Details
            Sparkles on treasures
            If a leader is off-camera (radar's camera), their icon should be on the edge of the radar in a smaller size
    Carrying stuff
        [NEEDS BRAINSTORMING] A traffic system? Here's my idea:
            Each stop link can hold a capacity number. The maximum value is the length of the link. Whenever a mob is taking this link, the mob's diameter (plus some padding?) is added to the value, and when a mob is no longer taking it, it is removed. When a mob that is carrying something is trying to enter a full link, it will stand in place instead of proceeding.
            Be careful for Pikmin carrying things in opposite directions. Maybe have a tie-breaker in some way?
        When there are multiple Onions or ships that something can be delivered to, choose the closest
            If there is no path to that one, then choose the second closest, and so on (thanks Neo)
        Smoother turns when carrying
        Ships and Onions should also take in enemies and treasures (respectively). In P3's Mission Mode the SPERO can take enemies, and in Bingo Battle, the Onion can take treasures
        Carried objects should be able to push other objects that are either carriable or have the pushable property
    More powerful scripting
        Object types should have a list of tags. Then, via scripting, you can ask if a mob has a specific tag or not. The tags can be anything, like "flammable", "can_be_alerted", etc.
        Spawning
            The ability to apply spawn momentum at a specific angle, when a mob spawns another. Right now that exists, but only for random angles
            The ability for a mob to spawn another mob at a random angle
            A way for an object to spawn another, but in the process, feeding the spawned object some script vars of the spawner object
        hold_focused_mob should be able to specify the hold rotation method
        Some way to read a different mob's "focus mob memory"?
        A way to run actions on other mobs
            You can pick a mob's focused mob, you can pick a mob from the entire area that matches a certain filter of type/category/variable value, you can pick the mob's parent mob, etc.
        Global script variables
        An else_if action
        An action that returns to the previous state. Useful for creating utility states that mimic functions
        More ideas of actions from Game Builder Garage's Nodon
        New events
            [NEEDS BRAINSTORMING] on_carrying_lift and on_carrying_drop events?
        New actions
            [NEEDS BRAINSTORMING] Logic for an arachnorb to turn to/chase the focused mob? (thanks Neo)
            [NEEDS BRAINSTORMING] Logic for arachnorbs to move freely, instead of only forward? (thanks Neo)
    Upgrades
        All of these can be toggled on or off in a mission, and can be unlocked in Story Mode
            In the mission select menu, probably show this as icons, and only for the collected ones, so it's not a wall of text
            In Story Mode, allow players to turn any one off
        A way to increase the Pikmin limit, like flarlic [PIKMIN 4]
        The ability for leaders to throw other leaders
        Call all idle Pikmin to you [PIKMIN 4]
        Call all Pikmin to the landing site [PIKMIN 3][PIKMIN 4]
        Increased defense
        Increased running speed?
        invulnerability to certain hazards?
        A Survey Drone? [PIKMIN 4]
        Maybe the abilities to swarm and charge should be upgrades too?
        Lying down?
        Whistle upgrades?
    Mob data
        "a suggestion, when using pushes_with_hitboxes it should use the hitbox's height rather than the object's height" (thanks Helodity)
        The scale category doesn't really need to exist -- the code that gets the current weight could be something any mob could use, and a way to display a custom number atop the mob could be added to the script (thanks Helodity)
        Resources should be able to specify what happens when they fall in the pit; carriable rocks need to respawn
    Pikmin behaviors
        When Pikmin destroy something that drops something (Pellet Posy, Flukeweed, enemy corpse, enemy spoils, etc.), they should focus on retrieving that ASAP instead of just idling and leaving it up to chance whether they pick it up or not. This is especially important for Rock Pikmin, which usually bounce far away after attacking and killing an enemy
        Winged Pikmin that fall in the water should fly up when whistled
        Pikmin should want to go to nectar by themselves when idling. Particularly important because Winged Pikmin don't drink nectar on their own
        A way for a Pikmin type to control what its resistance to being shaken off is
        Add the feature that makes dead flower Pikmin sometimes drop a sprout, before the story mode is done? It could spawn a sprout for use later in the day
        Seeds should take time to transform into sprouts -- this encourages the player to multitask instead of waiting for loot to be delivered to the Onion
        When a Pikmin is being burnt up or poisoned, etc., have a few frames at the start of it where it CAN'T be whistled to be saved. This prevents the player from whistling in the area of a soon-to-be burned Pikmin, and save the Pikmin instantly
        A Pikmin that's on fire and runs to the water should probably drown instead of continuing to be on fire
        If your Pikmin are far away and you dismiss them, they should just create groups where they are, not next to where you ordered the dismiss...right?
        If a Pikmin is too far away, it should sigh and lose the party
        "Oh, yeah, quick suggestion, make all of the pikmin that a leader has get disbanded and maybe panic around for a bit when the leader dies" (thanks Neo)
        Try to find some way for Pikmin to smoothly follow behind when they are faster than the leaders. Right now, they quickly catch up to where they should be in the group, stop, and then slowly accelerate back to continue catching up, over and over
        When they finish breaking a gate, or delivering something, they should probably return to the closest leader's group, right?
        When they kill an enemy that leaves a corpse, they should stay near it, waiting for the enemy to finish dying, so they can carry it right away
        [NEEDS BRAINSTORMING] Should Pikmin seeds that land on the ground have a state where they sprout pops out of the ground?
        Pikmin that are bounced by a bouncer shouldn't go through the period where they don't let leaders bump them when idle
    Add shaders
        Can the grid in the editors be more contrasting? Darker on top of light things and vice-versa...
        Bring back the wobbliness of the liquid limit edge offset effect, lost with the commit on June 17th 2022 -- use a vertex shader for this. You can probably tell which vertexes belong to the edge of the effect (the ones that need the wobble) by checking if their alpha is 0
        Enemy souls?
    Pathing
        Just make all pathing always ignore the Z of stops if said Z is below them? Currently, grounded mobs ignore it, but airborne mobs don't. This is so that mobs that are horizontally on a stop, but vertically stuck above it teetering on a ledge can still continue their path. I can't find any reason to want to respect Z, be it for grounded or airborne mobs, especially since the game has no ceilings. But just make sure to have the Z coordinate be respected when reaching the Onion, ship, bridge, etc. at the end of the path
        Pikmin, leaders, and so on should be able to take climbing sticks, bouncy mushrooms, geysers, etc. in order to traverse paths
    Editor improvements
        Area editor
            Areas should be able to clone the geometry of a different area. Basically instead of having their own geometry, they just have a link to another area's geometry instead. It should allow it to be rotated, too
            Pressing G should let you drag the currently selected things, instead of you being forced to precisely click on the tiny thing (e.g. Pikmin mob gen) before you can drag (thanks Neo)
            Shift+Ctrl+drag should start a selection box that adds to the current selection (thanks Neo)
            The ability to Ctrl+click a selected vertex, edge, etc. to unselect it (thanks Neo)
            View -> Show X in other modes
                This would allow one to see edges+vertexes, mobs, and paths in modes that aren't layout, mobs, and paths, respectively
            A way to visually show that you're in the layout mode, mobs mode, etc. I tried a vignette in the canvas, colored after the mode, but it's too ugly. Maybe coloring the Dear ImGui widgets based on the mode?
            Should sectors et al have a UID that persists between operations and undos? It might make some calculations simpler
            Sectors et al should probably inherit from a "selectable" class
            Sectors et al used in the editor should probably be classes that inherit from the base class, since in the editor they need a lot of stuff that's not necessary in-game
            Make sectors et al have a member of the "reference" type, which is used to refer to another sector, edge, etc.? This would probably make the organization between pointers and indexes more foolproof
            Show mobs as sprites of the mob proper. In mob editing mode, also show a circle around them to help make it clear what their radius and angle are
            Add regression-testing in-game
            Show a preview of the object's position and size when you duplicate one or are about to place it (thanks GuyWhoLikesCats)
            When you want to pick a song, a dialog should appear listing all of them, separating the area songs from the other ones, and also showing the tags and credits
            A way to toggle the selection transformation widget via a button press (thanks Helodity)
        Animation editor
            Animations should be able to clone the hitbox, timing, etc. data of a different animation file. Basically if you want to create a skin of a leader, you can just clone everything and merely change the spritesheet
            A way to change all sprites' bitmap files from file A to file B (Darthvato)
        Refactor the code so that sub-states are a bit more well-managed
            Hitting Esc when on an sub-state that's not the main state won't do anything, for instance, unless it's manually coded to do so
        Pressing Esc on the sprite/whatever rename pop-up should cancel
            Calling ImGui::CloseCurrentPopup(); doesn't seem to work...
        Specific, niche tools for editors?
            For the animation editor: reverse frames
        Resizable text inputs? https://github.com/ocornut/imgui/issues/7081#issuecomment-2081167909
        An option to toggle the grid visibility
        Smooth scrolling in Dear ImGui https://github.com/ocornut/imgui/issues/2462 (thanks Nataly171)
        Customizable controls overall, including double-clicking any of the mouse buttons
        Allow the GUI to be navigable via keyboard or joystick (this is a setting in Dear ImGui), and make it so the canvas can also be somewhat controlled, like the radar. Plus a button to switch which one is in focus
        Maybe the color scheme editor can just make use of some dark tones, some light tones, and one accent color, like how MuseScore does it
        Aesthetic
            Have SOMETHING moving... If the player doesn't touch anything, the screen shouldn't be mistakable with a frozen game
            Style it after the KopPad? (thanks Helodity)
            Juice
                Pop sound and pop line particles when something gets created
                Poof sound and puff of smoke particles when something gets deleted
                Change the mouse cursor for when you're dragging, drawing, placing something new, etc.
                    Normal cursor
                    For when you're drawing something
                    For when you can place something
                    For when the thing you're hovering over can be un/selected
                    For when the thing you're hovering over can be dragged
                    For when the thing you're hovering over can be deleted
                    For when you're panning
                    For when you're zooming
                The snapped cursor position should interpolate smoothly (but if you finish your operation when it's interpolating, it should finish instantly)
                Glow and grow the new sector, object, etc. when it is created
                Slightly grow the current thing when you select it, or maybe when you drag it?
                When you're going to place something new:
                    Show a dotted outline of the location the new thing will go to
                    As the cursor moves, the icon for the thing wobbles around, as if fixed to an anchor at the mouse
    Area sections?
        Large rectangles that are imposed on the area to specify certain things
        Ideas of sections
            Radar limits -- any sector beyond this rectangle does not show up on the radar. Alternatively, any sector INSIDE the rectangle doesn't show up
            Indoors/Outdoors -- used to control if precipitation can fall in here
    Area background improvements
        Support for backgrounds that don't tile -- what if you want a background that's a tree trunk, because you're on branches? It shouldn't tile, nor should the maker be forced to use a workaround where they have thousands of pixels of blank space for padding
        Add background viewing/editing to the area editor
        The ability to tint the background image
        Move it to the details section
        Foreground
    Small gameplay messages
        Useful for making characters talk mid-mission, via scripting
        Also useful for stating that an obstacle was destroyed and stuff like that [PIKMIN 4]
    Areas should be able to include "decals", in the same vein as tree shadows. These are a lightweight way to add leaves, rocks, pebbles, sticks, cobwebs, etc. to the area's terrain without using sectors or objects
        Add the previously mentioned ones to the base content
    Reorganize tree shadows - they should be building blocks that area makers can mix and match so people don't have to paint their own texture just to get a different pattern going
    The loading screen's elements could be controlled with a GUI definition
    If you change a ship to accept an Onion-only Pikmin type, or vice-versa, the icons on the Onion/ship menu for storing inside will stop making sense
        "Ships could have a single sprite, since they dont change depending on the color, and onions could reuse the radar's method for coloring onions" --Helodity
    The leader and Pikmin FSMs are pretty messy with the whole active/inactive, not holding/holding thing
        For leaders, rename active and inactive to controlled and not controlled
        Maybe merge the duplicate states for controlled/not controlled, and not holding/holding. The logic inside checks an if and figures out what to do depending on if that binary state. This would also help in those edge cases where a leader is controlled but in one of the uncontrolled states or vice-versa, because that'd be controlled in every relevant FSM function instead of being up to the whims of the flow of the state machine
    Automatically choose Pikmin maturity in some contexts, like throwing Pikmin at nectar or Candypop Buds should automatically pick leaf Pikmin [PIKMIN 4]
    Treasure collection should probably count when the ship retrieval starts (thanks Helodity)
    The area selection menu should have a way to search with text, and to sort by default/completion/difficulty (thanks Helodity)
    The text inside of various HUD elements should be a different HUD item from the bubble that encompasses it
    If Pikmin are killed (off-screen, on-screen, or both?), the counters should have some feedback -- this also helps audibly impaired players who can't hear the Pikmin squeals
    Some way to import your friends' records (and dates) in missions
    Calculate the entirety of the scene's lighting in a lightmap, that gets overlaid in the end
        Apply fog, blackout, sector darkness, etc. on this
        Check if this would have a large performance impact
        This would allow mobs to cast light, which would just lighten up that zone of the lightmap
    Base content to add
        Enemies
            Add Helodity's Plasm Wraith
            Burrowing Snagret
            Bulbears
            Scuttlebug?
            An enemy that follows you anywhere, but only at short-range. You can use this to goad it towards the Onion for less corpse carrying time, or to an opponent's Onion in multiplayer arenas
        The Pikmin 4 default leader
        More puzzle elements
            A cyclic lever? It automatically flips on and off over time
            A moving platform, useful to traverse a hazardous floor. Maybe Stemples?
        Pellet Posies could have properties that make them regrow
        A tall grass mob
        A turnstile mob
        Sounds
            Menus
                https://fxbsky.app/profile/wafflesmogumogu.bsky.social/post/3l7atb5e2rd2h
                Changing an option's value, toggling stuff like all Pikmin types in the Onion, etc.
                    Could change pitch when you're changing those multi-value options in the options menu
            HUD
                Mission completion item going up
                Mission completion item going down
                Mission failure item going up
                Mission failure item going down
                Score ruler ticking after the player got (or lost?) some points
            Results screen
                Item run-up ticking
                Item run-up finished
                Ka-ching for getting a medal
                Puff for the complete/failed stamp
    Base content to tweak
        Move the areas into their own pack, so people can disable it if they ever want to not have them (like if they installed another pack that changes Pikifen entirely and the base areas don't fit)
            Make sure the Tutorial Meadow prompt doesn't crash trying to access a non-existent area. The engine should probably read a property from the game config with the name of the tutorial area, and simply not show the prompt if it's empty
        Dwarf Red Bulborbs should scream to wake up nearby Red Bulborbs
        Water Dumples should wander around a small bit, right?
        Make Rock Pikmin colors darker (thanks Nataly171)
        Skutterchucks should throw bomb rocks
        Try to implement the Pikifen motif into Coastal Pavement, since it's used for a tutorial stage
        1 Pellet Posies should instantly lose their pellet if thrown at it
        Leaf White Pikmin should be able to keep pace with a leader, right?
        The sector hazards in DEV Lab should be labeled
        The Yellow Wollyhop should throw Pikmin farther away when landing, so that the Pikmin don't land immediately in crushing distance of the next jump (thanks Gatling Groink)
        Onions should be shaded with hue shifting
    Should the numbers in Pikmin counters (and perhaps elsewhere?) have animated run-ups?
    The ability for any object to fade when the leader/'s cursor is nearby. It's important for large walkable objects that block the view, like bridges, as well as ships like the Research Pod (thanks Neo)
    Boss music logic for attack jingles
    Missions
        A goal where you reach X sprays of type Y
        A goal where you bring a certain treasure towards a certain point of the map, and Pikmin carry towards where a given leader is? A la Formidable Oak (thanks Kolabold)
        A goal where you have to construct a wonder
        A fail condition for an enemy/enemy type dying (thanks Neo)
        A fail condition for if a certain state is entered in an FSM, like checking if Bulborbs enter the "waking_up" state, meaning the player alerted a sleeping Bulborb (thanks Neo)
        A way for something to give bonus points to the score (in score grading mode) (thanks Helodity)
            From the script?
            As a parameter in every single mob generator?
        Custom goal clear conditions and custom fail conditions, via scripting somehow
        In missions with no Onion, enemies should be delivered to the ship for more points. Maybe the mission maker should specify if enemies count for treasure points or not?
        The ability for treasure collection, enemy defeat, etc. to increase/decrease the amount of time you have left. This could make for tense missions where you constantly have to collect treasures to keep the clock above 0
    Maker tools
        A mob's reach visualizer
        A modifier for the mouse cursor information tool that pins the cursor's spot, and then the info visualizer also shows the cursor's current distance to that point
    Code cleanup
        Switch angles to vectors?
        If I need intervals, I can use the code on the "misc info" text file
        Maybe stuff like interactables and carriable corpses should be delegated to an entity component system on the mob class
    [NEEDS BRAINSTORMING] Should I auto-fade textures on stepping height?
    The spray effect that buries Pikmin should probably only affect opponent Pikmin
    [NEEDS BRAINSTORMING] Look into the "Next maturity" controls -- does the way they work make sense? Why can't you switch without holding a Pikmin?
    Manual
        Revamp the scripting tutorial
            Currently, the reader learns how to make a "weird" Red Bulborb; they should instead be learning to create a new creature (though it could still use an included spritesheet)
            Add some help at the start about how it may be daunting to wrap your head around all of the FSM a mob will need, but the reader should focus on what states they need first and foremost, then connections, and then just script one event at a time, isolated
    Story mode
        The ability for Onions to store but not produce Pikmin whose Onion hasn't been collected yet [PIKMIN 4]
        Some treasures should weigh as much as the current army, after a boss battle
    Loose thoughts
        If something is under construction, like a menu or something, add a small "WIP" blurb


Tasks for later on (I might never implement these)
    ...An AI opponent in 2-player mode? It would help me test...
        It should decide on a strategy according to what its largest needs are, what's closest, etc., with a bit of randomness to the mix
        Strategies
            Grow more Pikmin
            Gather idle Pikmin (including returning to base)
            Work on an objective
            Rescue suffering Pikmin
            Meddle with another team
            Hunt for goodies
            Defend its base, or otherwise stop another team from doing something really bad
    Mechanics
        The ability for enemies to eat other enemies
        The ability for players 2 - 4 to hop in and out of gameplay at will. Probably only for Story Mode?
        Make it so players can request all Pikmin to come to the landing site by interacting with the ship?
        The ability for Blue Pikmin to rescue drowning Pikmin
        Nighttime (what enemies can spawn at night, their changes, etc.)
            Change the HUD icon to a moon
        Random enemy spawning
        Hiding
        A setting that lets leaders jump (thanks Remy)
        [NEEDS BRAINSTORMING] Enemies don't care about bottomless pits and will gladly walk off when roaming -- is there any way to remedy this? Should I?
        Warp point [PIKMIN 3][PIKMIN 4]
            Carrying paths should be able to specify a "portal" link, which internally is considered to be 0-distance. This helps calculate the destinations without considering two warp points as being insanely far apart
    Content-making
        [NEEDS BRAINSTORMING] Colors should be able to also be in hexadecimal?
        [NEEDS BRAINSTORMING] A way to write out how much memory is being taken up by images, sounds, scripts, etc. so game makers can help make sure a level's not too bloated?
        If you write an event name wrong (or other things), give suggestions ("did you mean X?")
            This may become useless if there's a script editor
    Roguelike mode
        Randomly generated sublevels; there's an endless amount of them until you die or run out of Pikmin
        Each sublevel has an item somewhere that when returned, improves something
            Some give you standard Pikmin 2 improvements like fire-resistance
            Others speed up your Red Pikmin, make your Purple Pikmin more powerful, give you dosages of sprays, etc.
        Sublevels have two or three holes; before you go down you're told a preview of what sorts of sublevel and treasure lies beyond that hole, so you can pick your destiny
        Enemies should somehow get random buffs in the form of status effects that increase speed, power, etc.
    [NEEDS BRAINSTORMING] Breath of the Wild-like physics engine rules? https://venturebeat.com/2017/03/02/the-legend-of-zelda-breath-of-the-wild-makes-chemistry-just-as-important-as-physics/
        And just systemic gameplay in general, like lit Pikmin lighting nearby Pikmin on fire http://www.youtube.com/watch?v=SnpAAX9CkIc
            Red Pikmin can carry flaming coals, which can set enemies on fire
    Options and modes
        A "peaceful" mode where Pikmin and leaders can't die
        A "Pro HUD" option that hides some HUD elements? The idea is to hide information that a pro player can just "feel". Enemy health and carrying numbers are good contenders, though a problem with hiding carrying numbers is that when the destination Onion is decided not via majority, but via tie-breaker, it's impossible to tell where they're going without the carrying number's color
        [NEEDS BRAINSTORMING] A colorblind-friendly mode?
    Radar
        Icons of Pikmin souls indicating Pikmin died here in the past 10 seconds or so
        When it is opened, it should fade into view, as well as zoom out, to give the impression that the camera is moving up to show a larger view, from the point the leader is. Maybe only for story mode, and only the first time you do it?
        Survey drone? It'd just be a way for the player to view the area with free-cam (same as if there are no players)
            The ability to place beacons?
    Petrified enemies should break open when defeated
        Maybe define loot tables somewhere, like "standard", "boss", "weakling", etc. Enemy types use the "standard" one by default (which one is the default should be specified somewhere), but can choose a different one
            Maybe individual enemy instances in an area can also specify their own loot table?
    Editors
        Area editor
            [NEEDS BRAINSTORMING] Instead of a single-click selecting a sector, make it a double-click? This way you can still create a selection rectangle when you're inside the sector
            A tool that checks every point in the map (more like every 2 units) and checks if the closest carrying point is on the other side of a wall or something
            The area editor could have a button to start testing from where the mouse cursor is, a la Mario Maker. Also, to spawn some Pikmin with, maybe
            When deleting a mob link, flash the link red when you mouse-over. Similarly, flash a potential linkable object yellow when you mouse-over it. Think of doing the same for other similar operations
            Backups
                When an area is saved, delete the backup. When an area is loaded, if a backup is found, ask if they want to restore that backup instead.
                If it detects an auto-backup that's younger than the saved area, it should ask the user if they want to continue from the backup
            The ability to add comments to specific spots in an area; they should show up as like a question mark, and when you click it, you see/edit the comment in the panel
                Also, the ability to add them in-game with a maker tool, but they only exist in the area editor anyway
            A way to set the opacity of mobs in layout mode; possibly others of the sort (thanks Helodity)
            A feature with which to search for mobs/sectors
            Buttons to align textures with the sectors, stretching them to fit, or to tile twice, three times, left-aligned, right-aligned, etc.?
            A button next to the medal point requirement widgets to set it to the combined amount of the goal
                This is tricky to do because some goal amounts rely on some complicated logic and data, some of which may not be available to the area editor. e.g. Collect Treasures needs to know exactly how many resources a pile will end up having
        Animation editor
            "Sprite" -> "Pose"?
            You start by being presented with the spritesheet, then you click on a sprite, write its name, click on the next, its name, etc.
                Or you just draw a line or something above all sprites you want, and it auto-creates some sprites (thanks Tenacious)
            Add a section to find errors
                It could check what kind of animation this is, like a Pikmin type, and determine that there are some needed animations that are not included
                Maybe report if an enemy has attack hitboxes that don't hit below it?
        All editors
            [NEEDS BRAINSTORMING] Put the canvas in one Dear ImGui window and the panel in another?
            [NEEDS BRAINSTORMING] A tutorial built into each editor? Pros: no need to go out of the engine just for help. Cons: an HTML page has a lot more powerful content than just some text and some widgets
            Hold Ctrl while dragging to lock to an axis?
            [NEEDS BRAINSTORMING] For buttons that change the state of something (e.g. toggle reference image on/off, change current snapping mode), I need to figure out what to do...
                a. Have the icon represent the current mode?
                b. Have the icon represent the next mode?
                c. Only use buttons for one-off actions, and use radio buttons or something else for these mode-changing widgets
    Blood (optional, of course)
    GUI items could be told they are currently being activated, so that buttons can appear pressed in
        This would involve activation changing from just holding the button to holding + releasing, which might interfere with buttons that have auto-repeat activation
    HUD element for a digital clock?
    Resolution, window size, and zoom
        Players should be able to resize the window on-the-fly (GitHub issue #2)
        Resizing the window should stretch the resolution instead of showing more of the world (GitHub issue #7)
        Possible camera implementation: The camera only has the normal zoom level, but holding the camera input down will make it go to a farther zoom level so you can peek ahead. There is no close zoom level (thanks Neo)
    Aesthetic details
        Enemies should have a cloud of breath in cold areas (GitHub issue #10)
        Different "switched to Pikmin" sound for when you switch to a held leader instead of a Pikmin
        HUD elements that aren't needed right now should be super-transparent. For example, in Metroid Prime, when there is no hazard danger, the meter on the right is barely visible, but is still there
        Make the menu highlighters move from one place to another gradually, based on how far it is (like the camera moves in-game)
        The music should change to swing for Louie
        Particles
            Splash particles for going in water
            [NEEDS BRAINSTORMING] Particles should have a "emits light?" property, right?
            Particles floating in the wind
            A background detail: those little floaty white things you see in forests
        God rays -- beams of light shining between the leaves; they should spin with the sun, and sometimes fade out to non-existence
        Shadows of leaves should shift along the day, and become less opaque at the start and end
        Clovers, Margarets, etc. rustling should also maybe move north and south a bit, so that it's a bit of a circular motion (ellipse, really)
        Cloud shadows? When a cloud is casting a shadow, tree shadows shouldn't exist
        Water should reflect clouds and the sun... and maybe other things like an aurora borealis?
            https://www.reddit.com/r/aestheticrain/comments/7m61zy/blossom_on_a_pond_1080p/
            See the Pikmin 2 ending movie, for instance
        When something contributes to the mission goal, score, or fail condition, it should fly into the HUD element
    When al_clear_keyboard_state is available, use that instead of game.controls.releaseAll()
    The ability for particle generators to consist of multiple particle generators
    A competitive mode where each team's marble is out in the open in their base, but you can throw Pikmin at piles of twigs, shards of iron, etc. found in the area. They carry it (like bomb rocks), and when thrown in the room where the marble is, they start working with the materials they have and build a solid block there. Creating complex mazes and traps with the blocks is what stops the enemy team from gathering the marble so easily.
    Missions could have unlock criteria, like a mission only unlocking if another one is cleared, or if another one has a platinum medal, or if the player beat that other one with no Pikmin deaths (thanks Helodity)
    Observation spot
        An interactable that makes the camera zoom out a lot for a few seconds, so you can get a good overview of the surrounding location
        Visually it should probably look like some animated particle marker thing, but subtle and hopefully not too video-gamey
    Story mode
        A way to choose what landing site of the area you want to start the day in [PIKMIN 4]
    Discord rich presence
    [NEEDS BRAINSTORMING] Online play?
        It'd likely use deterministic lockstep https://gafferongames.com/post/deterministic_lockstep/
        Good luck with floating point determinism lol
            https://github.com/MikeLankamp/fpm
        Should it send the events, or "controller" state? If the former, be careful with the player mashing the keyboard and sending many events in one frame. If the latter, there'll be a lot of duplicated info
        Either prepare for or disallow changing options mid-game
    If Allegro gets updated...
        Every code that checks for which mouse button is being pressed should compare with ALLEGRO_MOUSE_BUTTON_* instead of a magic number
    Weird known issues
        An enemy that's already petrified can't be petrified again. Unless it's got the "petrified_cracking" or "petrified_cracked" statuses instead
        Whenever a sound effect fades out or in, you can hear crackling in the discrete steps that the engine changes its volume (once per frame). Unless I move each sound to its own mixer and apply post-processing, I don't think this has a solution...
    Stuff I don't know how to tackle yet
        If the player has the same input bound to different actions, there should be a warning... Except a lot of them are okay to have, like movement + leader cursor movement, menu movement + radar panning, etc.
    Possible cleanup
        Timers
            Have a timer manager, so I don't have to remember to do a .tick() to every single one
                Remember that the fade manager can unload the current game state!
            Create auto-eased timers? Like, they return a number from 0 to 1, and can use several methods, like 0->1 in the first half and then 1->0, or eased in, or...
            A flag that specifies whether it auto-starts on creation, whether it auto-rearms after reaching 0, etc.
            Thoughts:
                Actually, the only advantage of this is the auto-ticking... But it might introduce a performance penalty, having to add and remove hundreds of timers in a vector
        If I need GPU performance gains, resize textures to smaller sizes when they're loaded (thanks Helodity)
        https://www.gamasutra.com/blogs/ScottLembcke/20180404/316046/Improved_Lerp_Smoothing.php
        https://gamasutra.com/blogs/JiriHolba/20200511/362690/Should_STL_containers_be_used_in_game_engines.php
    Stuff that isn't really justifiable yet, but may be one day
        Should the leader's throw preview indicate collisions against mobs? It's not really necessary, and there are all sorts of weird cases, like decorative vs. combat mobs, untouchable hitboxes, etc.
        The ability for status effects to add/remove HP in absolute amounts, not relative
        Potential area editor optimization: When moving, scaling, etc. vertexes, create an std::set with all of the vertexes that aren't part of the selection, and then check only those. This is better than checking all vertexes and skipping out on the ones that aren't selected. Or something along these lines. This should help with the immense lag when you Ctrl+A an area's geometry and try to move it
        Suggestions
            Add an option for statuses to make the leader helpless until the player presses right-click or something (thanks Neo)
            An action with which to change a mob's home
            Could Queen Candypop Buds have script vars to control which types they can switch to? (thanks Darthvato)
            A way to change a mob's speed, rotation speed, etc., via scripting, instead of it being tied to the mob type's speed
                You can just give the mob a status effect that changes its speed
        If a leader is on top of a moving walkable object, or on top of a scrolling sector, if they slide against the wall they will do it faster than normal
            This is kinda correct? Either way not a big deal I guess
        Allowing a mob to run an action on behalf of another mob
            Not really workable since when the script is compiled at load, anything involving arguments can only be compiled from the runner's point of view, not the caster's, so it'll be impossible to compile the script actions of the caster
            Plus, anything involving script variables, states, focuses, and so on will just lead to endless spaghetti for the engine and for the script maker
        Action groups for mob scripts (like functions)
            Not really necessary since you can just create an aux state to do those
        Optimize the Armored Cannon Beetle's spritesheet, ever since its inhale sprites stopped using drawn lines and started using dust particles
        Fade some HUD items (or all?) when the mouse is on them? Would this be useful?
            This won't work for control schemes that don't use the mouse. Is this a problem, should the leader cursor be used instead, or is it fine if they don't fade out?
        Hide some of the HUD items? Stuff like a leader's health might not be necessary if it's full
        When showing a mission's score, the units and tens digits should be smaller than the rest, to highlight the hundreds being a checkpoint
            One mission might make getting 1000 points very easy while another might make getting 50 points very hard, so this might not work...
    Possible solutions to known issues
        Regarding true fullscreen crashing when a system message box appears -- remove all native message boxes, and implement my own, or come up with alternative ways to supply the information
    Specific requested features
        An enemy that can heal, for instance, 20HP for each Pikmin eaten
        An attribute for Pikmin types that makes it possible to throw them farther/closer than standard
    [NEEDS BRAINSTORMING] Questions to be answered later
        If P1's leader throws a mine at P2's leader, and it sticks on them, that leader will be *holding* the mine. This will probably break a lot of logic that assumes holding just refers to the pre-throw Pikmin hold
        Do Pikmin need to have a delay before their health regeneration kicks in?
