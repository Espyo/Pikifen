first_state = spawning
death_state = destroying

init {
}

script {
	spawning {
		on_enter {
			set_timer 1
			set_height 20
			set_animation spawning
		}
		on_frame_signal {
			set_height 300
		}
		on_timer {
			focus link
			hold_focused_mob hold
			set_state idling
		}
		on_receive_message {
			get_event_info temp message
			if $temp = plasm_break
				set_state destroying
			end_if
		}
	}

	idling {
		on_enter {
			set_animation idling
			start_particles plasm_electricity 0 0 100
		}
		on_receive_message {
			get_event_info temp message
			if $temp = plasm_break
				set_state destroying
			end_if
		}
	}
	destroying {
        on_enter {
			set_animation destroyed
			send_message_to_links plasm_break
        }
        on_animation_end {
            delete
        }
    }
}
